import Callout from "../../../src/components/Callout/Callout";
import {CalloutVariant} from "../../../src/components/Callout/Callout.types";
import Image, {ImageSize} from "../../../src/components/Image/Image";

import courseManagement from './assets/general/course-management.png';
import courseDashboard from './assets/quiz/course-dashboard.png';
import createQuizButton from './assets/quiz/create-quiz-button.png';
import createAQuizForm from './assets/quiz/create-a-quiz-form.png';
import multipleChoiceQuestion from './assets/quiz/multiple-choice-question.png';
import dragAndDropQuestion from './assets/quiz/drag-and-drop-question.png';
import apollonDiagrams from './assets/quiz/apollon-diagrams.png';
import createANewApollonDiagram from './assets/quiz/create-a-new-apollon-diagram.png';
import apollonForm from './assets/quiz/Apollon-form.png';
import apollonEditor from './assets/quiz/apollon-editor.png';
import shortAnswerQuestion from './assets/quiz/short-answer-question.png';
import existingQuestion from './assets/quiz/existing-question.png';
import addSelectedQuestionsButton from './assets/quiz/add-selected-questions-button.png';
import footer from './assets/quiz/footer.png';
import importQuizButton from './assets/quiz/import-quiz-button.png';
import importListQuizzes from './assets/quiz/import-list-quizzes.png';
import importButton from './assets/quiz/import-button.png';
import exportQuizButton from './assets/quiz/export-quiz-button.png';
import exportQuizzesList from './assets/quiz/export-quizzes-list.png';
import exportButton from './assets/quiz/export-button.png';
import createDragAndDropQuizButton from './assets/quiz/create-drag-and-drop-quiz.png';

# Quiz Exercise

## Overview

Instructors and editors can create, import, and export quiz exercises. Quiz exercises support three types of questions:

- **Multiple-Choice Questions**: Questions with multiple answer options where one or more can be correct
- **Drag-and-Drop Questions**: Questions where students drag items onto a background image
- **Short-Answer Questions**: Questions where students fill in text answers

## Setup

The following sections describe the process of creating and managing quiz exercises.

- On the Artemis home page, click on the Course Management button <img src={courseManagement} alt="Course Management" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} />
- Navigate into **Exercises** of a specific course by clicking on the exercise button

<Image src={courseDashboard} alt="Course Dashboard" size={ImageSize.large} caption="Course Management Dashboard" />

### Create Quiz Exercise

In the quiz exercises section, click on the <img src={createQuizButton} alt="Create Quiz" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button to open the quiz creation form.

<Image src={createAQuizForm} alt="Create a Quiz Form" size={ImageSize.large} caption="Quiz Creation Form" />

The form includes the following fields:

- **Title**: Provide a title for the quiz exercise (mandatory)
- **Categories**: Type the category for the quiz exercise
- **Difficulty**: Select the difficulty level among Easy, Medium and Hard, or select No Level
- **Duration**: Provide the time in minutes and seconds for students to solve the quiz exercise
- **Options**: Choose between presenting the questions in random order or not
- **Batch Mode**: Controls how students can participate in the quiz
  - **Synchronized**: There is exactly one opportunity for all students to participate in the quiz
  - **Batched**: There are multiple opportunities for students to participate in the quiz by using a password
  - **Individual**: Students can participate in the quiz by themselves at any time while it is released
- **Visible from**: The date and hour when the quiz becomes visible to students
- **Schedule Quiz Start**: To establish the date and hour at which the quiz will be available for solving
  - **Start of working time**: Set the time for the students to see the questions and start answering them. Students can start working on the quiz from this time until the duration ends
- **Should this exercise be included in the course score calculation?**:
  - **Yes**: the points will be included in the course score calculation
  - **No**: the points will not be included in the course score calculation
  - **Bonus**: the points will be considered as bonus points

<Callout variant={CalloutVariant.danger}>
  <p>Fields marked with red are mandatory to be filled.</p>
</Callout>

### Question Types

#### Add Multiple-Choice Question

This kind of question is composed of a problem statement with multiple options.

<Image src={multipleChoiceQuestion} alt="Multiple Choice Question" size={ImageSize.large} caption="Multiple-Choice Question Editor" />

- **Short question title**: Provide a short title (mandatory)
- **Points**: Assign the value points for this question
- **Scoring type**:
  - All or Nothing
  - Proportional with Penalty
  - Proportional without Penalty
- **Present answer options in random order**
- **Single Choice Mode**: When there is just one correct option. This disables the Scoring type (resp. sets it to All or Nothing)
- **Delete icon**: To delete the current question
- **Edit View**: Enables the text editor to write the quiz statement and its options, hints and explanations
- **Edit bar**: When the edit view is enabled, the format bar provides:
  - Style to the statement text
  - Correct Options [correct]
  - Incorrect Options [wrong]
  - Explanations [exp]
  - Hints [hint]
- **Text editor**: The quiz statement can be developed with options, hints and explanations
- **Preview View**: Enables the student view
- **Visual View**: This view shows the question from the Edit view as a rendered question. The different parts of the question are editable and answer options can be added and removed. It is possible to toggle between the Visual and the Edit view at all times and changes to the question will be respected

<Callout variant={CalloutVariant.info}>
  <p>The Visual view provides an intuitive interface for creating quiz questions. You can seamlessly switch between Visual and Edit views while maintaining all your changes.</p>
</Callout>

#### Add Drag-and-Drop Question

This kind of question is composed of a problem statement, a background image, and drag and drop options.

<Image src={dragAndDropQuestion} alt="Drag and Drop Question" size={ImageSize.large} caption="Drag-and-Drop Question Editor" />

- **Short question title**: Provide a short title
- **Points**: Assign the value points for this question
- **Scoring type**:
  - All or Nothing
  - Proportional with Penalty
  - Proportional without Penalty
- **Present Drag Items in Random order**
- **Delete icon**: To delete the current question
- **Edit View**: Enables the text editor to write the question statement with explanations and hints
- **Edit bar**: When the edit view is enabled, the format bar provides:
  - Style to the statement text
  - Explanations [exp]
  - Hints [hint]
- **Text editor**: The quiz statement can be developed with hints and explanations
- **Upload Background**: To select and upload the background from the PC files to drag and drop the options over it
- **Add Drag Items**:
  - Text items: Type the options
  - Image items: Can be uploaded from the PC files
- **Preview View**: Enables the student view

#### Add Apollon Drag-and-Drop Question

In the quiz edit view click the button <img src={createDragAndDropQuizButton} alt="Create Drag and Drop Quiz" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} />

<Image src={apollonDiagrams} alt="Apollon Diagrams" size={ImageSize.large} caption="Apollon Diagrams Overview" />

In the Apollon diagram view, you can see the list of existing Apollon diagrams and the possible actions to perform with them:
- Open
- Delete

Clicking on the creation of a new Apollon Diagram button <img src={createANewApollonDiagram} alt="Create a New Apollon Diagram" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> opens the following form:

<Image src={apollonForm} alt="Apollon Form" size={ImageSize.medium} caption="Apollon Diagram Creation Form" />

- **Title** (required): provide the title of the Apollon diagram, which will be used as title for the generated quiz question
- **Diagram Type**: A drop-down menu to select one of the following diagram types:
  - Class Diagram
  - Activity Diagram
  - Object Diagram
  - Use Case Diagram
  - Communication Diagram
  - Component Diagram
  - Deployment Diagram
  - Petri Net
  - Syntax Tree
  - Flowchart
- **Create button**: Creates the Apollon diagram and opens the edit view
- **Cancel button**: Returns to the list of existing Apollon diagrams

After creating or opening an Apollon diagram, it can be edited in the edit view.

<Image src={apollonEditor} alt="Apollon Editor" size={ImageSize.large} caption="Apollon Diagram Editor" />

- **Back to overview link**: Returns to the existing Apollon diagram lists
- **Download button**: Download the diagram as image. The "Crop Image to Selection" checkbox allows to include only the currently selected elements in the image
- **Title** (required): Allows to edit the tile of the diagram
- **Modeling field**: The items for modeling the diagram will be displayed here
- **Elements to Drag and Drop** into the modeling field
- **Close**: Returns to the quiz view without saving and creating a question
- **Save Diagram button**: Saves the Apollon diagram and stays in the edit view
- **Generate a quiz exercise button**: Generates a quiz drag-and-drop question and returns to the quiz edit view

#### Add Short-Answer Question

This kind of question is composed of a statement and spots to fill them out by typing the answers.

<Image src={shortAnswerQuestion} alt="Short Answer Question" size={ImageSize.large} caption="Short-Answer Question Editor" />

- **Short question title**: Provide a short title
- **Points**: Assign the value points for this question
- **Scoring type**:
  - All or Nothing
  - Proportional with Penalty
  - Proportional without Penalty
- **Match Letter Case**
- **Match Answers Exactly**: This option moves the match slider to 100%
- **Delete icon**: To delete the current question
- **Add Spot Option**: To add the spot between the text to be filled out
- **Add Answer Option**: To provide the answer for each spot
- **Text editor**: The quiz statement can be developed with the spots and options
- **Text View**: Enables the text editor to write and edit the question statement
- **Visual View**: Enables the student view

#### Add Existing Questions

This option allows to import existing questions from other quiz exercises, courses, exams and files.

<Image src={existingQuestion} alt="Existing Question" size={ImageSize.large} caption="Import Existing Questions" />

- **Source buttons**:
  - From a course
  - From an exam
  - From a file
- **List picker** to select a specific course, exam or file
- **Searching bar**: to look for the question providing its name or part of it
- **Filter options** according to the type of questions:
  - Drag and Drop Question
  - Multiple Choice Question
  - Short Answer Question
- **Apply filter button**
- **List of questions** with the title, short title, and Type. In the Add column, it is possible to select all questions to be imported
- At the end of the list, click the <img src={addSelectedQuestionsButton} alt="Add Selected Questions" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button to import all selected questions

### Footer

On the creation quiz page there is a footer with the following fields:

<Image src={footer} alt="Footer" size={ImageSize.medium} caption="Quiz Creation Form Footer" />

- Error messages
- Warning messages
- Cancel button
- Save button

### Import a Quiz

In the quiz exercises section, click on the <img src={importQuizButton} alt="Import Quiz" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button.

The list of existing quizzes will appear.

<Image src={importListQuizzes} alt="Import List Quizzes" size={ImageSize.medium} caption="Quiz Import List" />

- The **searching bar**: Allows to look for a specific quiz by typing its name or part of it
- The **list of quizzes**: With their ID, title, course and indicator if they are exam questions
- Clicking the <img src={importButton} alt="Import" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button opens the quiz editor with the existing questions. Here it is possible to edit all parameters such as in the create new quiz exercise section

### Export a Quiz

In the quiz exercises section, click on the <img src={exportQuizButton} alt="Export Quiz Exercises" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button and the list of quizzes will be shown.

<Image src={exportQuizzesList} alt="Export Quizzes List" size={ImageSize.medium} caption="Quiz Export List" />

- Select the quizzes for being exported in the Export column
- The <img src={exportButton} alt="Export" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button will download the quiz in a JSON file

<Callout variant={CalloutVariant.info}>
  <p><strong>Note:</strong> Artemis uses an npm package called <a href="https://www.npmjs.com/package/@ls1intum/apollon">Apollon</a> as its modeling editor. It has a standalone version which can be accessed via <a href="https://apollon.ase.in.tum.de/">https://apollon.ase.in.tum.de/</a>. The standalone version is free to use without the necessity of creating an account and offers additional features, including sharing and exporting diagrams. For more information, visit <a href="https://github.com/ls1intum/Apollon_standalone">Apollon Standalone</a>.</p>
</Callout>