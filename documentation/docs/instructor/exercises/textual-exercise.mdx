import Callout from "../../../src/components/Callout/Callout";
import {CalloutVariant} from "../../../src/components/Callout/Callout.types";
import Image, {ImageSize} from "../../../src/components/Image/Image";

import courseManagement from './assets/general/course-management.png';
import courseManagementDashboard from './assets/general/course-management-course-dashboard-exercises.png';
import createNewTextExercise from './assets/text/create-new-text-exercise.png';
import createTextExerciseForm1 from './assets/text/create-text-exercise-form-1.png';
import createTextExerciseForm2 from './assets/text/create-text-exercise-form-2.png';
import createTextExerciseForm3 from './assets/text/create-text-exercise-form-3.png';
import createExerciseFormHint from './assets/general/create-exercise-form-hint.png';
import hintIcon from './assets/general/hint-icon.png';
import createButton from './assets/general/create-button.png';
import importTextExercise from './assets/text/import-text-exercise.png';
import importTextExerciseModal from './assets/text/import-text-exercise-modal.png';
import courseDashboardExerciseText from './assets/text/course-dashboard-exercise-text.png';
import editButton from './assets/general/edit-button.png';
import scoresButton from './assets/general/scores-button.png';
import participationButton from './assets/general/participation-button.png';
import exampleSubmissionButton from './assets/general/example-submission-button.png';
import deleteButton from './assets/general/delete-button.png';
import textExerciseCardStudentView from './assets/text/text-exercise-card-student-view.png';
import startButton from './assets/general/start-exercise-button.png';
import openTextEditorButton from './assets/text/open-text-editor-button.png';
import textExerciseStudentsInterface from './assets/text/text-exercise-students-interface.png';
import submitButton from './assets/general/submit-button.png';
import assessmentDashboard from './assets/general/assessment-dashboard.png';
import exerciseDashboard from './assets/text/exercise-dashboard.png';
import exerciseAssessmentDashboard from './assets/text/exercise-assessment-dashboard.png';
import participateInExerciseButton from './assets/general/start-participating-in-exercise-button.png';
import startNewAssessmentButton from './assets/general/start-new-assessment-button.png';
import exerciseAssessmentDashboard2 from './assets/text/exercise-assessment-dashboard-2.png';
import assessmentModal from './assets/text/assessment-modal.png';
import addNewFeedbackButton from './assets/general/add-new-feedback-button.png';
import feedbackModal from './assets/general/feedback-modal.png';
import saveButton from './assets/general/save-button.png';
import submitAssessmentButton from './assets/general/submit-assessment-button.png';
import cancelButton from './assets/general/cancel-button.png';
import exerciseDashboardButton from './assets/general/exercise-dashboard-button.png';

# Textual Exercise

## Overview

Conducting a text exercise consists of 3 steps:

1. **Instructor prepares exercise:** Instructor creates and configures the text exercise in Artemis.
2. **Student solves exercise:** Student works on the exercise and submits the solution.
3. **Tutor assesses submissions:** Tutor reviews the submitted exercises and creates results for the students.

## Setup

The following sections describe the supported features and the process of creating a new text exercise.

- Open <img src={courseManagement} alt="Course Management" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} />
- Navigate into **Exercises** of your preferred course.

<Image src={courseManagementDashboard} alt="Course Management Dashboard" size={ImageSize.large} caption={"Navigate to Exercises in the Course Management Dashboard"}/>

### Create Text Exercise

- Click on **Create new text exercise**.

<Image src={createNewTextExercise} alt="Create New Text Exercise" size={ImageSize.large} />

The following screenshot illustrates the first section of the form. It consists of:

- **Title**: Title of an exercise.
- **Categories**: Category of an exercise.
- **Difficulty**: Difficulty of an exercise. (No Level, Easy, Medium or Hard).
- **Mode**: Solving mode of an exercise. *This cannot be changed afterward* (Individual or Team).
- **Release Date**: Date after which the exercise is released to the students.
- **Start Date**: Date after which students can start the exercise.
- **Due Date**: Date till when students can work on the exercise.
- **Assessment Due Date**: Date after which students can view the feedback of the assessments from the instructors.
- **Inclusion in course score calculation**: Option that determines whether or not to include exercise in course score calculation.
- **Points**: Total points of an exercise.
- **Bonus Points**: Bonus points for an exercise.
- **Automatic assessment suggestions enabled**: When enabled, Artemis tries to automatically suggest assessments for text blocks based on previously graded submissions for this exercise using the [Athena](https://github.com/ls1intum/edutelligence/tree/main/athena) service.

<Image src={createTextExerciseForm1} alt="Create Text Exercise Form 1" size={ImageSize.large} caption={"Create Text Exercise Form"} />

<Callout variant={CalloutVariant.danger}>
  <p>Fields marked with red are mandatory to be filled.</p>
</Callout>

The following screenshot illustrates the second section of the form. It consists of:

- **Problem Statement**: The task description of the exercise as seen by students.
- **Example Solution**: Example solution of an exercise.
- **Example Solution Publication Date**: Date after which the example solution is accessible for students. If you leave this field empty, the solution will only be published to tutors.

<Image src={createTextExerciseForm2} alt="Create Text Exercise Form 2" size={ImageSize.large} caption={"Create Text Exercise Form (2)"} />

<Callout variant={CalloutVariant.info}>
  <p>If you are not clear about any of the fields, you can access additional hints by hovering over the <img src={hintIcon} alt="Hint Icon" style={{display: 'inline', verticalAlign: 'middle', height: '1rem'}} /> icon for many of them.</p>
</Callout>

<Image src={createExerciseFormHint} alt="Create Exercise Form Hint" size={ImageSize.medium} caption={"Create Exercise Form Hint"} />

The following screenshot illustrates the last section of the form:

- **Linked Competencies**: In case instructors created competencies, they can link them to the exercise here. See the [Adaptive Learning](https://artemis-platform.readthedocs.io/en/latest/user/adaptive-learning.html#adaptive-learning) documentation for more information.
- **Assessment Instructions**: Assessment instructions (comparable to grading rubrics) simplify the grading process. They include predefined feedback and points. Reviewers can drag and drop a suitable instruction to the text element to apply it during the assessment. The **Credits** specify the score of the instruction. The **Scale** describes the performance level of the instruction (e.g., excellent, good, average, poor). The **Description** may include additional notes about when to apply this instruction. **Feedback** is an explanatory text for the students to understand their performance level better. The **Limit** specifies how many times the score of this instruction may be included in the final score.

<Image src={createTextExerciseForm3} alt="Create Text Exercise Form 3" size={ImageSize.large} caption={"Create Text Exercise Form (3)"} />

Once you are done defining the schema of an exercise, you can now create an exercise by clicking on the <img src={createButton} alt="Create Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button.

### Import Text Exercise

- Alternatively, you can also import text exercise from the existing one by clicking on **Import Text Exercise**.

<Image src={importTextExercise} alt="Import Text Exercise" size={ImageSize.large} />

- An import modal will prompt up, where you will have the option to select and import previous text exercises from the list by clicking on the **Import** button.

<Image src={importTextExerciseModal} alt="Import Text Exercise Modal" size={ImageSize.medium} caption={"Import Text Exercise Modal"}/>

- Once you import one of the exercises, you will then be redirected to a form that is similar to *Create text exercise* form with all the fields filled from the imported exercise. You can now modify the fields as necessary to create a text exercise.

### Result

<Image src={courseDashboardExerciseText} alt="Course Dashboard Exercise Text" size={ImageSize.large} caption={"New Text Exercise in Exercise Dashboard"}/>

- Click the <img src={editButton} alt="Edit Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button of the text exercise and adapt the interactive problem statement. There you can also set release and due dates.
- Click the <img src={scoresButton} alt="Scores Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button to see the scores achieved by the students.
- Click the <img src={participationButton} alt="Participation Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button to see the list of students who participated in the exercise.
- Click the <img src={exampleSubmissionButton} alt="Example Submission Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button to modify/add an example submission of the exercise.
- Click the <img src={deleteButton} alt="Delete Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button to delete the exercise.
- You can get an overview of the exercise by clicking on the title.

## Student Submission

- When the exercise is released students can work on the exercise.

<Image src={textExerciseCardStudentView} alt="Text Exercise Card Student View" size={ImageSize.large} caption={"Text Exercise Overview - Student View"}/>

- They can start the exercise by clicking the <img src={startButton} alt="Start Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button.

- Once they start the exercise, they will now have the option to work on it in an online text editor by clicking on the <img src={openTextEditorButton} alt="Open Text Editor Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button.

- The screenshot below depicts the exercise interface for students. They can read the problem statement on the right and fill in their solution in the textbox on the left. To submit, you need to click on the <img src={submitButton} alt="Submit Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button on the top right.

<Image src={textExerciseStudentsInterface} alt="Text Exercise Students Interface" size={ImageSize.large} caption={"Text Exercise Student Participation View"} />

## Assessment

When the due date is over you can assess the submissions. Text exercise

- To assess the submissions, first click on **Assessment Dashboard**.

<Image src={assessmentDashboard} alt="Assessment Dashboard" size={ImageSize.large} caption={"Assessment Dashboard"} />

- Then click on **Exercise Dashboard** of the text exercise.

<Image src={exerciseDashboard} alt="Exercise Dashboard" size={ImageSize.large} caption={"Exercise Dashboard"} />

- You will then be redirected to *Exercise Assessment Dashboard*.

<Image src={exerciseAssessmentDashboard} alt="Exercise Assessment Dashboard" size={ImageSize.large} caption={"Exercise Assessment Dashboard"} />

- In case you have not assessed a submission of this exercise before, you will get shown the problem statement and a summary of assessment instructions. To learn more about this feature, take a look at Artemis' Integrated Training Process documentation. Once you know what the exercise is about, you can click on the <img src={participateInExerciseButton} alt="Participate in Exercise Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button.

- In case unassessed submissions are available, you can click on the <img src={startNewAssessmentButton} alt="Start New Assessment Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button. You will then be redirected to the assessment page where you will be able to assess the submission of a random student.

<Image src={exerciseAssessmentDashboard2} alt="Exercise Assessment Dashboard 2" size={ImageSize.large} />

- You can now start assessing text blocks by clicking on them. This opens an assessment dialog where you can assign points and provide feedback. To assess custom text blocks, hold `alt/option` while clicking in any order on the first and last word of a text segment.

<Image src={assessmentModal} alt="Assessment Modal" size={ImageSize.large} caption={"Assessment Modal"} />

- Alternatively, you can also assess the text blocks by dragging and dropping assessment instructions from the *Assessment Instructions* section.

- Feedback to the entire submission can also be added by clicking on the <img src={addNewFeedbackButton} alt="Add New Feedback Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> button. The following form will open allowing you to input your feedback:

<Image src={feedbackModal} alt="Feedback Modal" size={ImageSize.large} caption={"Feedback Modal"} />

- If automatic assessment suggestions were enabled for the exercise, you would get available suggestions from the service [Athena](https://github.com/ls1intum/edutelligence/tree/main/athena). More details about this service can be found in the following research papers:

<Callout variant={CalloutVariant.info}>
  <p><strong>Research Papers on Athena:</strong></p>
  <ul>
    <li>Jan Philip Bernius, Stephan Krusche, and Bernd Bruegge. <em>Machine learning based feedback on textual student answers in large courses</em>. Computers and Education: Artificial Intelligence, June 2022. <a href="https://doi.org/10.1016/j.caeai.2022.100081">doi:10.1016/j.caeai.2022.100081</a>.</li>
    <li>Jan Philip Bernius, Stephan Krusche, and Bernd Bruegge. <em>A machine learning approach for suggesting feedback in textual exercises in large courses</em>. In 8th ACM Conference on Learning @ Scale, L@S '21, 173–182. Association for Computing Machinery (ACM), June 2021. <a href="https://doi.org/10.1145/3430895.3460135">doi:10.1145/3430895.3460135</a>.</li>
    <li>Jan Philip Bernius. <em>Toward computer-aided assessment of textual exercises in very large courses</em>. In 52nd ACM Technical Symposium on Computer Science Education, SIGCSE '21, 1386. Association for Computing Machinery (ACM), March 2021. <a href="https://doi.org/10.1145/3408877.3439703">doi:10.1145/3408877.3439703</a>.</li>
    <li>Jan Philip Bernius, Anna Kovaleva, Stephan Krusche, and Bernd Bruegge. <em>Towards the automation of grading textual student submissions to open-ended questions</em>. In 4th European Conference of Software Engineering Education, ECSEE '20, 61–70. Association for Computing Machinery (ACM), June 2020. <a href="https://doi.org/10.1145/3396802.3396805">doi:10.1145/3396802.3396805</a>.</li>
    <li>Jan Philip Bernius, Anna Kovaleva, and Bernd Bruegge. <em>Segmenting student answers to textual exercises based on topic modeling</em>. In 17th Workshop on Software Engineering im Unterricht der Hochschulen, SEUH '20, 72–73. CEUR-WS.org, February 2020. https://ceur-ws.org/Vol-2531/poster03.pdf </li>
    <li>Jan Philip Bernius and Bernd Bruegge. <em>Toward the automatic assessment of text exercises</em>. In 2nd Workshop on Innovative Software Engineering Education, ISEE '19, 19–22. CEUR-WS.org, February 2019. https://ceur-ws.org/Vol-2308/isee2019paper04.pdf </li>
  </ul>
</Callout>

Once you're done assessing the solution, you can either:

- Click on <img src={saveButton} alt="Save Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> to save the incomplete assessment so that you can continue it afterward.

- Click on <img src={submitAssessmentButton} alt="Submit Assessment Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> to submit the assessment.

- Click on <img src={cancelButton} alt="Cancel Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> to cancel and release the lock of the assessment.

- Click on <img src={exerciseDashboardButton} alt="Exercise Dashboard Button" style={{display: 'inline', verticalAlign: 'middle', height: '2rem'}} /> to navigate to the **Exercise Dashboard**.
