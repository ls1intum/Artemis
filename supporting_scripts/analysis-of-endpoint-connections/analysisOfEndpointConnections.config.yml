# This file is the configuration file for the GitHub action Analysis Of Endpoint Connections. It allows to exclude certain endpoints
# (either by URI or by file name) from the analysis, and to define the output file paths.

# These are the paths to the files that contain the parsing results and the analysis results and to the client directory.
# Adjust the paths as necessary.
endpointParsingResultPath: 'endpoints.json'
restCallParsingResultPath: 'restCalls.json'
endpointAnalysisResultPath: 'endpointAnalysisResult.json'
restCallAnalysisResultPath: 'restCallAnalysisResult.json'
clientDirPath: 'src/main/webapp/app'

# This sections holds a list of files that should be excluded from the parsing and the analysis. Adjust the list as necessary.
excludedServerFiles:
  -

excludedEndpointFiles:
  # These files only contain endpoints that are not used by the WebApp
  - 'de/tum/in/www1/artemis/web/rest/open/PublicBuildPlanResource.java'
  - 'src/main/java/de/tum/in/www1/artemis/web/rest/AppleAppSiteAssociationResource.java'

excludedEndpoints:
    # Endpoints not used by the Artemis WebApp
  - '/api/push_notification/register'
  - '.well-known/apple-app-site-association'
  - 'api/courses/{courseId}/programming-exercises'
  - 'api/programming-exercises/with-sca'
  - 'api/programming-exercises/{exerciseId}/auxiliary-repository'
  - 'api/programming-exercises/{exerciseId}/tasks'
  - 'api/file-upload-exercises/{exerciseId}'
  - 'api/courses/{courseId}/file-upload-exercises'
  - 'api/file-upload-exercises/{exerciseId}/export-submissions'
  - 'api/courses/{courseId}/grading-scale/grade-steps/{gradeStepId}'
  - 'api/courses/{courseId}/exams/{examId}/grading-scale/grade-steps/{gradeStepId}'
  - 'api/push_notification/register'
  - 'api/push_notification/unregister'
  - 'api/management/statistics/data-for-content'
  - 'api/management/statistics/course-statistics'
  - 'api/management/statistics/exercise-statistics'
  - 'api/participations/{participationId}/results/{resultId}'
  - 'api/participations/{participationId}/results/{resultId}/details'
  - 'api/participations/{participationId}/results/{resultId}'
  - 'api/apollon-diagrams/{diagramId}/title'
  - 'api/courses/{courseId}/answer-messages'
  - 'api/courses/{courseId}/answer-messages/{answerMessageId}'
  - 'api/courses/{courseId}/messages'
  - 'api/courses/{courseId}/messages/{messageId}'
  - 'api/courses/{courseId}/messages/similarity-check'
  - 'api/modeling-exercises'
  - 'api/courses/{courseId}/modeling-exercises'
  - 'api/modeling-exercises/{exerciseId}/export-submissions'
  - 'api/courses/{courseId}/exams/{examId}/bonus/calculate-raw'
  - 'api/learning-path/{learningPathId}/competency-graph'
  - 'api/learning-path/{learningPathId}/relative-navigation'
  - 'api/learning-path/{learningPathId}/navigation'
  - 'api/learning-path/{learningPathId}/competencies'
  - 'api/learning-path/{learningPathId}/competencies/{competencyId}/learning-objects'
  - 'api/files/markdown/{filename}'
  - 'api/files/templates/{language}/{projectType}'
  - 'api/files/templates/{language}'
  - 'api/files/drag-and-drop/backgrounds/{questionId}/*'
  - 'api/files/drag-and-drop/drag-items/{dragItemId}/*'
  - 'api/files/file-upload-exercises/{exerciseId}/submissions/{submissionId}/*'
  - 'api/files/course/icons/{courseId}/*'
  - 'api/files/exam-user/signatures/{examUserId}/*'
  - 'api/files/exam-user/{examUserId}/*'
  - 'api/files/attachments/lecture/{lectureId}/{filename}'
  - 'api/files/attachments/attachment-unit/{attachmentUnitId}/*'
  - 'api/files/attachments/attachment-unit/{attachmentUnitId}/slide/{slideNumber}'
  - 'api/tutorial-groups/{tutorialGroupId}/title'
  - 'api/courses/{courseId}/text-exercises'
  - 'api/text-exercises/{exerciseId}/export-submissions'
  - 'api/admin/audits/{id:.+}'
  - 'api/admin/logs'
  - 'api/admin/management/statistics/data'
  - 'api/admin/imprint-for-update'
  - 'api/admin/imprint'
  - 'api/admin/event-insights/text-assessment/events/{courseId}'
  - 'api/admin/organizations/{organizationId}/courses/{courseId}'
  - 'api/admin/organizations/{organizationId}/count'
  - 'api/admin/organizations/{organizationId}/title'
  - 'api/iris/exercise-chat/{exerciseId}/sessions/current'
  - 'api/iris/exercise-chat/{exerciseId}/sessions'
  - 'api/iris/sessions/{sessionId}/messages/{messageId}/helpful'
  - 'api/iris/course-chat/{courseId}/sessions/current'
  - 'api/iris/course-chat/{courseId}/sessions'
  - 'api/repository/{participationId}/files-plagiarism-view'
  - 'api/repository-files-content/{commitId}'
  - 'api/repository/{participationId}/files-change'
  - 'api/repository/{participationId}/file-plagiarism-view'
  - 'api/repository/{participationId}/files-content'
  - 'api/repository/{participationId}/file-names'
  - 'api/repository/{participationId}/files'
  - 'api/repository/{participationId}/reset'
  - 'api/test-repository/{exerciseId}/files'
  - 'api/test-repository/{exerciseId}/reset'
  - 'api/test-repository/{exerciseId}/file'
  - 'api/test-repository/{exerciseId}/folder'
  - 'api/test-repository/{exerciseId}/rename-file'
  - 'api/test-repository/{exerciseId}/pull'
  - 'api/test-repository/{exerciseId}/commit'
  - 'api/test-repository/{exerciseId}'
  - 'api/courses'
  - 'api/courses/{courseId}/download-archive'
  - 'api/public/pyris/pipelines/competency-extraction/runs/{runId}/status'
  - 'api/exercises/{exerciseId}/feedback-details'
  - 'api/files/user/profile-pictures/{userId}/*'
  - 'api/account'
  - 'api/account/ssh-public-key'
  - 'api/account/user-vcs-access-token'
  - 'api/account/participation-vcs-access-token'
  - 'api/public/account'
  - 'api/public/account/change-language'
  - 'api/public/saml2'
  - 'api/public/logout'

  # Issue: #9372 and #9371
  - 'api/courses/{courseId}/students'
  - 'api/courses/{courseId}/tutors'
  - 'api/courses/{courseId}/editors'
  - 'api/courses/{courseId}/instructors'
  - 'api/courses/{courseId}/title'
  - 'api/courses/{courseId}/students/{studentLogin: + Constants.LOGIN_REGEX + }'
  - 'api/courses/{courseId}/tutors/{tutorLogin: + Constants.LOGIN_REGEX + }'
  - 'api/courses/{courseId}/editors/{editorLogin: + Constants.LOGIN_REGEX + }'
  - 'api/courses/{courseId}/instructors/{instructorLogin: + Constants.LOGIN_REGEX + }'
  - 'api/courses/{courseId}/students/{studentLogin: + Constants.LOGIN_REGEX + }'
  - 'api/courses/{courseId}/tutors/{tutorLogin: + Constants.LOGIN_REGEX + }'
  - 'api/courses/{courseId}/editors/{editorLogin: + Constants.LOGIN_REGEX + }'
  - 'api/courses/{courseId}/instructors/{instructorLogin: + Constants.LOGIN_REGEX + }'
  - 'api/courses/{courseId}/exams/{examId}/students/{studentLogin: + Constants.LOGIN_REGEX + }/attendance-check'
  - 'api/programming-exercises/{exerciseId} + /static-code-analysis-categories/import'

  # Issue: #9371
  - 'api/athena/text-exercises/{exerciseId}/submissions/{submissionId}/feedback-suggestions'
  - 'api/athena/programming-exercises/{exerciseId}/submissions/{submissionId}/feedback-suggestions'
  - 'api/athena/modeling-exercises/{exerciseId}/submissions/{submissionId}/feedback-suggestions'
  - 'api/athena/courses/{courseId}/text-exercises/available-modules'
  - 'api/athena/courses/{courseId}/programming-exercises/available-modules'
  - 'api/athena/courses/{courseId}/modeling-exercises/available-modules'
  - 'api/quiz-exercises/{quizExerciseId}/{action}'


  - 'api/public/athena/programming-exercises/{exerciseId}/submissions/{submissionId}/repository'
  - 'api/public/athena/programming-exercises/{exerciseId}/repository/template'
  - 'api/public/athena/programming-exercises/{exerciseId}/repository/solution'
  - 'api/public/athena/programming-exercises/{exerciseId}/repository/tests'
  - 'api/programming-exercises/{exerciseId}/build-plan/for-editor'
  - 'api/programming-exercises/{exerciseId}/build-plan'
  - 'api/build-log/{buildJobId}'
  - 'api/exercises/{exerciseId}/submissions-for-import'
  - 'api/courses/{courseId}/answer-posts'
  - 'api/courses/{courseId}/answer-posts/{answerPostId}'
  - 'api/courses/{courseId}/posts'
  - 'api/courses/{courseId}/posts/{postId}'
  - 'api/lectures/{lectureId}/attachment-units/{attachmentUnitId}'
  - 'api/course-competencies/{competencyId}/title'
  - 'api/courses/{courseId}/competencies'
  - 'api/courses/{courseId}/competencies/{competencyId}'
  - 'api/courses/{courseId}/competencies'
  - 'api/courses/{courseId}/competencies/bulk'
  - 'api/courses/{courseId}/competencies/import'
  - 'api/courses/{courseId}/competencies/import/bulk'
  - 'api/courses/{courseId}/competencies/import-all/{sourceCourseId}'
  - 'api/courses/{courseId}/competencies/import-standardized'
  - 'api/courses/{courseId}/prerequisites'
  - 'api/courses/{courseId}/prerequisites/{prerequisiteId}'
  - 'api/courses/{courseId}/prerequisites'
  - 'api/courses/{courseId}/prerequisites/bulk'
  - 'api/courses/{courseId}/prerequisites/import'
  - 'api/courses/{courseId}/prerequisites/import/bulk'
  - 'api/courses/{courseId}/prerequisites/import-all/{sourceCourseId}'
  - 'api/courses/{courseId}/prerequisites/import-standardized'
  - 'api/courses/{courseId}/exams/{examId}/exam-users'
  - 'api/programming-exercises/{exerciseId}/exercise-hints/{exerciseHintId}/title'
  - 'api/programming-exercises/{exerciseId}/solution-entries/{solutionEntryId}'
  - 'api/programming-exercises/{exerciseId}/code-hints/{codeHintId}/solution-entries'
  - 'api/programming-exercises/{exerciseId}/test-cases/{testCaseId}/solution-entries'
  - 'api/programming-exercises/{exerciseId}/code-hints'
  - 'api/programming-exercises/{exerciseId}/tasks-with-unassigned-test-cases'
  - 'api/programming-exercises/{exerciseId}/testwise-coverage-report'
  - '.well-known/assetlinks.json'
  - 'api/exercises/{exerciseId}/title'
  - 'api/participations/{participationId}/withLatestResult'
  - 'api/aeolus/templates/{language}/{projectType}'
  - 'api/aeolus/templateScripts/{language}/{projectType}'
  - 'api/lectures/{lectureId}/title'
  - 'api/exams/active'
  - 'api/exams'
  - 'api/exams/{examId}/title'
  - 'api/courses/{courseId}/exams/{examId}/exam-for-assessment-dashboard'
  - 'api/courses/{courseId}/exams/{examId}/exam-for-test-run-assessment-dashboard'
  - 'api/courses/{courseId}/exams/{examId}/download-archive'
  - '.well-known/jwks.json'
  - 'api/public/authenticate'
  - 'api/public/pyris/pipelines/tutor-chat/runs/{runId}/status'
  - 'api/public/pyris/pipelines/course-chat/runs/{runId}/status'
  - 'api/public/pyris/webhooks/ingestion/runs/{runId}/status'
  - 'api/public/programming-submissions/{participationId}'
  - 'api/public/programming-exercises/test-cases-changed/{exerciseId}'
  - 'api/public/programming-exercises/{exerciseId}/build-plan'
  - 'api/public/time'
  - 'api/public/programming-exercises/new-result'
  - 'api/public/imprint'
  - 'api/programming-exercises/{exerciseId}/submission-policy'
  - 'api/data-exports/{dataExportId}'

  # Issue #9377
  - 'LTI13_LOGIN_REDIRECT_PROXY_PATH'
  - 'LTI13_DEEPLINK_REDIRECT_PATH'

excludedRestCallFiles:
  # Files that only contain REST calls that are not yet parsed correctly
  - 'src/main/webapp/app/assessment/athena.service.ts'
  - 'src/main/webapp/app/shared/statistics-graph/statistics.service.ts'
  - 'src/main/webapp/app/shared/server-date.service.ts'
  - 'src/main/webapp/app/shared/image/cacheable-image.service.ts'
  - 'src/main/webapp/app/shared/http/file.service.ts'
  - 'src/main/webapp/app/lecture/lecture-paging.service.ts'
  - 'src/main/webapp/app/exercises/shared/manage/exercise-paging.service.ts'
  - 'src/main/webapp/app/exercises/shared/example-submission/example-submission-import/example-submission-import-paging.service.ts'
  - 'src/main/webapp/app/exercises/programming/manage/services/build-plan.service.ts'
  - 'src/main/webapp/app/exam/manage/exams/exam-import/exam-import-paging.service.ts'

excludedRestCalls:
  # The Endpoints matching the following REST calls are provided by SpringBootActuator and spring,
  # see src/main/resources/config/application.yml management.endpoints.web.exposure.include
  - 'management/configprops'
  - 'management/env'
  - '/management/inf'
  - 'management/info'
  - 'management/health'
  - 'management/loggers'
  - 'management/loggers/${name}'
  - 'management/jhimetrics'
  - 'management/threaddump'

  # The following Endpoints are all from this file: course-management.service.ts
  # The Endpoint on the server looks like this: 'api/courses/{courseId}/instructors'
  # or this: api/courses/{courseId}/tutors etc.
  # Issue: #9372 and #9371
  - 'api/courses/${courseId}/${courseGroup}'
  - 'api/courses/${courseId}/${courseGroup}/${login}'

  # The following Endpoints are all from this file: quiz-exercise.service.ts
  # The Endpoint on the server looks like this: 'api/quiz-exercises/{quizExerciseId}/{action}'
  - 'api/quiz-exercises/${quizExerciseId}/open-for-practice'
  - 'api/quiz-exercises/${quizExerciseId}/start-now'
  - 'api/quiz-exercises/${quizExerciseId}/end-now'
  - 'api/quiz-exercises/${quizExerciseId}/set-visible'

  # These 3 files are part of the file: iris-chat-http.service.ts
  - 'api/iris/sessions/${sessionId}/messages/${messageId}/helpful/${helpful}'
  - 'api/iris/${identifier}/sessions/current'
  - 'api/iris/${identifier}/sessions'

  - 'api/public/lti13/auth-login'
  - '${this.resourceUrl}'
  # The following Endpoints are all from this file: course-exercise.service.ts
  - '${this.resourceUrl}/${courseId}/file-upload-exercises'
  - '${this.resourceUrl}/${courseId}/text-exercises'
  - '${this.resourceUrl}/${courseId}/modeling-exercises'
  - '${this.resourceUrl}/${courseId}/programming-exercises'

  # Issue: #9372
  - 'api/programming-exercises/${targetExerciseId}/static-code-analysis-categories/import'

  # Edge case in exam-management.service.ts
  - '${url}'

  # Edge cases with multiple possible values in athena.service.ts
  # Issue: #9371
  - 'api/athena/${exercise.type}-exercises/${exercise.id}/submissions/${submissionId}/feedback-suggestions'
  - 'api/athena/courses/${courseId}/${exercise.type}-exercises/available-modules'

  # POSSIBLY UNUSED REST CALLS
  - 'api/courses/${courseId}/posts/similarity-check'
  - 'public/content/${filename}'
  - 'api/courses/${courseId}/results'
  - 'api/exercises'
  - 'api/results/${resultId}'
  - 'api/attachments'
  - 'api/repository/${participationId}/file'
