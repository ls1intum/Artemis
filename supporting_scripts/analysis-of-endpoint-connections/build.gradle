plugins {
    id "java"
    id "application"
}

group "de.tum.cit.aet.artemis"
version "1.0.0"

repositories {
    mavenCentral()
}

evaluationDependsOn(":")

dependencies {
    implementation "com.github.javaparser:javaparser-symbol-solver-core:${project.java_parser_version}"
    implementation "com.github.javaparser:javaparser-core:${project.java_parser_version}"
    implementation "com.github.javaparser:javaparser-core-serialization:${project.java_parser_version}"
    implementation "com.fasterxml.jackson.core:jackson-databind:${project.fasterxml_version}"
    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.15.2'
    implementation rootProject.ext.springBootStarterWeb
    implementation "org.slf4j:slf4j-api:${project.slf4j_version}"
    implementation "ch.qos.logback:logback-classic:${project.logback_version}"
}

task runEndpointParser(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    mainClass = "de.tum.cit.endpointanalysis.EndpointParser"
}

task runEndpointAnalysis(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    mainClass = "de.tum.cit.endpointanalysis.EndpointAnalyzer"
}

task runRestCallAnalysis(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    mainClass = "de.tum.cit.endpointanalysis.RestCallAnalyzer"
}
