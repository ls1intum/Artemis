<div class="input-group mb-2 rounded-3 p-2 me-2 module-bg">
    <!-- search bar with selected channel -->
    <div class="tag-input-container">
        @for (conversation of selectedConversations; track conversation) {
            <span class="badge bg-primary me-1">
                <span class="me-1">in:#{{ getConversationName(conversation) }}</span>
                <button type="button" class="btn-close btn-close-white btn-sm ms-1" aria-label="Remove" (click)="removeSelectedChannel(conversation)"></button>
            </span>
        }
        <input
            #searchInput
            name="searchText"
            id="search"
            [(ngModel)]="courseWideSearchTerm"
            class="form-control"
            (keyup.enter)="onTriggerSearch()"
            (input)="filterItems($event)"
            (keydown.arrowDown)="navigateDropdown(1, $event)"
            (keydown.arrowUp)="navigateDropdown(-1, $event)"
            (keydown.enter)="selectActiveOption()"
            placeholder="{{ 'artemisApp.metis.overview.searchBarDefault' | artemisTranslate }}"
        />
    </div>
    <jhi-button [btnType]="ButtonType.SECONDARY" [icon]="faTimes" (onClick)="hideSearchTerm()" />
    <jhi-button id="search-submit" class="ms-1" [icon]="faSearch" (onClick)="onTriggerSearch()" />
</div>
@if (showDropdown && filteredOptions.length > 0) {
    <ul class="list-group autocomplete-dropdown" tabindex="0">
        @for (option of filteredOptions; let i = $index; track option) {
            <li class="list-group-item list-group-item-action channel-option" [class.active]="i === activeDropdownIndex" (mousedown)="selectOption(option)">
                <span class="me-2">#</span>
                {{ option.name }}
            </li>
        }
    </ul>
}
