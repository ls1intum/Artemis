<p-dialog
    [header]="'artemisApp.pages.registeredStudents.header' | artemisTranslate: { title: tutorialGroup?.title ?? '' }"
    [modal]="true"
    [visible]="dialogVisible()"
    [closable]="true"
    (visibleChange)="dialogVisible.set($event)"
    (onHide)="close()"
    [style]="{ width: '70rem' }"
    appendTo="body"
>
    <jhi-loading-indicator-container [isLoading]="isLoading">
        @if (tutorialGroup) {
            @if (capacityReached) {
                <div
                    class="alert alert-warning"
                    role="alert"
                    jhiTranslate="artemisApp.pages.registeredStudents.capacityWarning"
                    [translateValues]="{ capacity: tutorialGroup.capacity }"
                ></div>
            }
            <jhi-course-group
                [tutorialGroup]="tutorialGroup"
                [allGroupUsers]="registeredStudents"
                [courseGroup]="courseGroup"
                [isLoadingAllGroupUsers]="isLoading"
                [isAdmin]="isAdmin"
                [course]="course()"
                [userSearch]="userSearch"
                [addUserToGroup]="addToGroup"
                [removeUserFromGroup]="removeFromGroup"
                [exportFileName]="exportFilename"
                [handleUsersSizeChange]="handleUsersSizeChange"
                (importFinish)="loadAll()"
            >
                @if (tutorialGroup) {
                    <span>
                        <span>{{ tutorialGroup.title }} - </span>
                        @if (filteredUsersSize < registeredStudents.length) {
                            <span>{{ filteredUsersSize }} <span jhiTranslate="artemisApp.course.courseGroup.outOf"></span> </span>
                        }
                        {{ registeredStudents.length }}
                        <span [jhiTranslate]="'artemisApp.course.students'"></span>
                    </span>
                }
            </jhi-course-group>
        }
    </jhi-loading-indicator-container>
</p-dialog>
