<!-- Adapted from https://www.chilitime.design/2018/09/ActivityRings/ -->
<div [class.muted-competency-rings]="hideProgress" class="position-relative" [ngbTooltip]="hideTooltip ? undefined : (tooltipText | artemisTranslate)" #container>
    <svg viewBox="0 0 35 35" xmlns="http://www.w3.org/2000/svg">
        <g class="ring mastery-ring">
            <circle class="background" cx="50%" cy="50%" r="15.915" stroke-width="4" />
            <circle
                [class.progressbar-anim]="playAnimation"
                class="progressbar"
                cx="50%"
                cy="50%"
                r="15.915"
                stroke-width="4"
                [style.opacity]="masteryPercentage === 0 ? 0 : 1"
                [attr.stroke-dasharray]="masteryPercentage + ', 100'"
            />
        </g>

        <g class="ring progress-ring">
            <circle class="background" cx="50%" cy="50%" r="15.915" stroke-width="6" />
            <circle
                [class.progressbar-anim]="playAnimation"
                class="progressbar"
                cx="50%"
                cy="50%"
                r="15.915"
                stroke-width="6"
                [style.opacity]="progressPercentage === 0 ? 0 : 1"
                [attr.stroke-dasharray]="progressPercentage + ', 100'"
            />
        </g>
    </svg>
    @if (this.hideProgress) {
        <div class="position-absolute top-50 start-50 translate-middle">
            <fa-icon [icon]="faQuestion" class="question-mark" [style]="{ fontSize: container.offsetWidth * 0.6 + 'px' }" />
        </div>
    }
</div>
