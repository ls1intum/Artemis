<div>
    <button
        [id]="'competency-accordion-' + competency.id"
        class="competency-accordion-header row align-items-center justify-content-between mt-2 position-relative"
        (click)="toggle()"
    >
        <div class="col-auto d-md-block">
            <h3 class="fw-medium">
                <fa-icon [icon]="getIcon(competency.taxonomy)" />
            </h3>
        </div>
        <div class="col-sm col py-2">
            <h3>{{ competency.title }}</h3>
        </div>
        @if (!open) {
            <div class="col-sm col py-2" style="max-width: 200px">
                <div class="row mb-2">
                    <div class="col-auto d-md-block">
                        <fa-icon [icon]="faList" />
                    </div>
                    <div class="col">
                        <jhi-progress-bar [size]="'small'" [maxValue]="100" [currentValue]="60" [inline]="true" />
                    </div>
                </div>
                <div class="row align-items-center justify-content-center">
                    <div class="col-auto d-md-block">
                        <fa-icon [icon]="faPdf" />
                    </div>
                    <div class="col">
                        <jhi-progress-bar [size]="'small'" [maxValue]="100" [currentValue]="20" [inline]="true" />
                    </div>
                </div>
            </div>
            <div class="col-sm col text-end py-1 px-2 justify-content-center align-items-center" style="max-width: 75px">
                <jhi-competency-rings [confidence]="this.confidence" [progress]="this.progress" [mastery]="this.mastery" [hideTooltip]="true" />
            </div>
        } @else {
            <div class="col-sm col py-2" style="max-width: 275px">
                <button class="btn btn-primary">View Lectures</button>
                <button class="btn btn-primary">View Exercises</button>
            </div>
        }
    </button>
    <div [class.competency-accordion-open]="open" class="competency-accordion-body row align-items-center justify-content-center">
        <div class="col-sm col">
            <div class="row mb-2 align-items-center justify-content-center">
                <div class="col">
                    <jhi-progress-bar [maxValue]="100" [currentValue]="60" [icon]="faList" [title]="'Exercises'" />
                </div>
            </div>
            <div class="row align-items-center justify-content-center">
                <div class="col">
                    <jhi-progress-bar [maxValue]="100" [currentValue]="20" [icon]="faPdf" [title]="'Lectures'" />
                </div>
            </div>
        </div>
        <div class="col-sm col py-2">
            <div class="row align-items-center justify-content-center">
                <p style="text-align: center; margin-bottom: 5px"><b>Rate yourself</b></p>
                <p style="text-align: center; margin-bottom: 5px">To what extent have you mastered this competency?</p>
                <p style="text-align: center; font-size: 12px" class="mb-2">
                    Choose on a scale from <i><b>Low</b></i> to <i><b>High</b></i
                    >.
                </p>
                <div style="width: auto">
                    <jhi-competency-mastery-rating [rating]="masteryRating" (ratingUpdated)="onRatingUpdated($event)" />
                </div>
            </div>
            @if (rated) {
                <div class="row align-items-center justify-content-center">
                    <span class="col-auto my-2">Artemis</span>
                    <div style="width: 250px">
                        <jhi-progress-bar [maxValue]="100" [currentValue]="50" [progressColor]="'#5555FF'" [inline]="true" />
                    </div>
                    <span class="col-auto my-2">50%</span>
                </div>
            }
        </div>
    </div>
</div>
