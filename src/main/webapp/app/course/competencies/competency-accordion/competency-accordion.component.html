<div>
    <button
        [id]="'competency-accordion-' + competency.id"
        class="competency-accordion-header row align-items-center justify-content-between mt-2 position-relative flex-wrap"
        (click)="toggle()"
    >
        <div class="col-auto d-md-block my-2">
            <h4 class="fw-medium">
                <fa-icon
                    [icon]="getIcon(competency.taxonomy)"
                    [fixedWidth]="true"
                    [ngbTooltip]="'artemisApp.competency.taxonomies.' + competency.taxonomy | artemisTranslate"
                    container="body"
                />
            </h4>
        </div>
        <div class="col-sm col py-2">
            <h4>{{ competency.title }}</h4>
        </div>
        <div class="col-sm col py-2" style="max-width: 200px">
            <div class="row align-items-center justify-content-center">
                <div class="col-auto d-md-block">
                    <fa-icon [icon]="faList" [ngbTooltip]="'artemisApp.studentAnalyticsDashboard.competencyAccordion.exercises' | artemisTranslate" />
                </div>
                <div class="col">
                    <ngb-progressbar type="success overflow-visible" [value]="exercisesProgress" [max]="100" height="0.5rem" />
                </div>
            </div>
            <div class="row align-items-center justify-content-center">
                <div class="col-auto d-md-block">
                    <fa-icon [icon]="faPdf" [ngbTooltip]="'artemisApp.studentAnalyticsDashboard.competencyAccordion.lectures' | artemisTranslate" />
                </div>
                <div class="col">
                    <ngb-progressbar type="success overflow-visible" [value]="lectureUnitsProgress" [max]="100" height="0.5rem" />
                </div>
            </div>
        </div>
        <div class="col-sm col text-end py-1 px-2 justify-content-center align-items-center" style="max-width: 65px">
            <jhi-competency-rings [confidence]="this.confidence" [progress]="this.progress" [mastery]="this.mastery" [hideTooltip]="false" [playAnimation]="false" />
        </div>
    </button>
    <div [class.competency-accordion-body-open]="open" [class.competency-accordion-body-closed]="!open" class="competency-accordion-body">
        <div class="row align-items-center justify-content-center m-2">
            <button
                (click)="navigateToCompetencyDetailPage($event)"
                class="btn btn-primary w-100 my-2"
                jhiTranslate="artemisApp.studentAnalyticsDashboard.button.viewLecturesAndExercises"
            ></button>
        </div>
    </div>
</div>
