<form [formGroup]="form" (ngSubmit)="submitForm()">
    <div class="d-flex align-items-center">
        <h3 class="me-1">{{ 'artemisApp.competency.parseDescription.courseDescription.title' | artemisTranslate }}</h3>
        <fa-icon
            [icon]="faQuestionCircle"
            class="text-secondary"
            ngbTooltip="{{ 'artemisApp.competency.parseDescription.courseDescription.infoTooltip' | artemisTranslate }}"
        ></fa-icon>
    </div>
    <div class="form-group">
        <textarea
            class="form-control"
            id="courseDescription"
            rows="10"
            formControlName="courseDescription"
            [placeholder]="'artemisApp.competency.parseDescription.courseDescription.placeholder' | artemisTranslate"
        ></textarea>
        @if (courseDescriptionControl.invalid && (courseDescriptionControl.dirty || courseDescriptionControl.touched)) {
            <div class="alert alert-danger">
                @if (courseDescriptionControl.errors?.required) {
                    <div>
                        {{ 'artemisApp.competency.parseDescription.courseDescription.requiredValidationError' | artemisTranslate }}
                    </div>
                }
                @if (courseDescriptionControl.errors?.minlength) {
                    <div>
                        {{ 'artemisApp.competency.parseDescription.courseDescription.minlengthValidationError' | artemisTranslate: { min: DESCRIPTION_MIN } }}
                    </div>
                }
                @if (courseDescriptionControl.errors?.maxlength) {
                    <div>
                        {{ 'artemisApp.competency.parseDescription.courseDescription.maxlengthValidationError' | artemisTranslate: { max: DESCRIPTION_MAX } }}
                    </div>
                }
            </div>
        }
    </div>
    <jhi-iris-logo-button
        id="generateButton"
        [btnType]="ButtonType.PRIMARY_OUTLINE"
        [title]="!hasBeenSubmitted ? 'artemisApp.competency.parseDescription.courseDescription.generate' : 'artemisApp.competency.parseDescription.courseDescription.regenerate'"
        [tooltip]="!hasBeenSubmitted ? '' : 'artemisApp.competency.parseDescription.courseDescription.regenerateTooltip'"
        [disabled]="!isSubmitPossible"
        [isLoading]="isLoading"
    />
</form>
