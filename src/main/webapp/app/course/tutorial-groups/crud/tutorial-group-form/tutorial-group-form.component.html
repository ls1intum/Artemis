<form class="row">
    <div class="col-12">
        <form *ngIf="form" [formGroup]="form" (ngSubmit)="submitForm()">
            <!-- Title -->
            <div class="form-group">
                <label class="required" for="title">{{ 'artemisApp.tutorialGroupForm.titleInput.label' | artemisTranslate }}</label>
                <input
                    type="text"
                    class="form-control"
                    id="title"
                    formControlName="title"
                    [placeholder]="'artemisApp.tutorialGroupForm.titleInput.placeholder' | artemisTranslate: { from: '12:00', to: '13:00' }"
                />
                <div *ngIf="titleControl?.invalid && (titleControl?.dirty || titleControl?.touched)" class="alert alert-danger">
                    <div *ngIf="titleControl?.errors?.required || titleControl?.errors?.pattern">
                        {{ 'artemisApp.tutorialGroupForm.titleInput.requiredValidationError' | artemisTranslate }}
                    </div>
                    <div *ngIf="titleControl?.errors?.maxlength">
                        {{ 'artemisApp.tutorialGroupForm.titleInput.maxLengthValidationError' | artemisTranslate: { max: '255' } }}
                    </div>
                </div>
            </div>
            <!--Online / Offline -->
            <div class="form-group">
                <label class="d-block">{{ 'artemisApp.tutorialGroupForm.isOnlineInput.label' | artemisTranslate }}</label>
                <div class="btn-group" role="group">
                    <input formControlName="isOnline" type="radio" class="btn-check" id="online" autocomplete="off" checked [value]="true" />
                    <label class="btn btn-secondary" for="online">{{ 'artemisApp.manageTutorialGroups.columns.online' | artemisTranslate }}</label>

                    <input formControlName="isOnline" type="radio" class="btn-check" id="offline" autocomplete="off" [value]="false" />
                    <label class="btn btn-secondary" for="offline">{{ 'artemisApp.manageTutorialGroups.columns.offline' | artemisTranslate }}</label>
                </div>
            </div>
            <!-- Teaching Assistant -->
            <div class="form-group">
                <label class="required" for="teachingAssistant">{{ 'artemisApp.tutorialGroupForm.teachingAssistantInput.label' | artemisTranslate }}</label>
                <input
                    id="teachingAssistant"
                    type="text"
                    class="form-control"
                    formControlName="teachingAssistant"
                    [placeholder]="'artemisApp.tutorialGroupForm.teachingAssistantInput.placeholder' | artemisTranslate"
                    [ngbTypeahead]="taSearch"
                    [inputFormatter]="taFormatter"
                    [resultFormatter]="taFormatter"
                    [editable]="false"
                    #teachingAssistantInput="ngbTypeahead"
                    (focus)="taFocus$.next($any($event).target.value)"
                    (click)="taClick$.next($any($event).target.value)"
                />
                <small id="taHelp" class="form-text text-muted">{{ 'artemisApp.tutorialGroupForm.teachingAssistantInput.taHelp' | artemisTranslate }}</small>
                <div *ngIf="teachingAssistantControl?.invalid && (teachingAssistantControl?.dirty || teachingAssistantControl?.touched)" class="alert alert-danger">
                    <div *ngIf="teachingAssistantControl?.errors?.required">
                        {{ 'artemisApp.tutorialGroupForm.teachingAssistantInput.requiredValidationError' | artemisTranslate }}
                    </div>
                </div>
            </div>
            <!-- Location -->
            <div class="form-group">
                <label *ngIf="isOnlineControl!.value" for="location">{{ 'artemisApp.tutorialGroupForm.locationInput.labelOnline' | artemisTranslate }}</label>
                <label *ngIf="!isOnlineControl!.value" for="location">{{ 'artemisApp.tutorialGroupForm.locationInput.labelOffline' | artemisTranslate }}</label>
                <textarea
                    class="form-control"
                    id="location"
                    rows="1"
                    formControlName="location"
                    [placeholder]="
                        (isOnlineControl!.value ? 'artemisApp.tutorialGroupForm.locationInput.placeholderOnline' : 'artemisApp.tutorialGroupForm.locationInput.placeholderOffline')
                            | artemisTranslate
                    "
                ></textarea>
                <div *ngIf="locationControl?.invalid && (locationControl?.dirty || locationControl?.touched)" class="alert alert-danger">
                    <div *ngIf="locationControl?.errors?.maxlength">
                        {{ 'artemisApp.tutorialGroupForm.locationInput.maxLengthValidationError' | artemisTranslate: { max: '2000' } }}
                    </div>
                </div>
            </div>

            <!-- Capacity, Language -->
            <div class="row">
                <div class="col-auto">
                    <label for="capacity">{{ 'artemisApp.tutorialGroupForm.capacityInput.label' | artemisTranslate }}</label>
                    <div class="input-group">
                        <input id="capacity" type="number" class="form-control" formControlName="capacity" />
                        <div class="input-group-text">{{ 'artemisApp.tutorialGroupForm.capacityInput.unit' | artemisTranslate }}</div>
                    </div>
                </div>
                <div class="col-auto my-auto">
                    <label for="language">{{ 'artemisApp.tutorialGroupForm.languageInput.label' | artemisTranslate }}</label>
                    <select id="language" class="form-select" formControlName="language">
                        <option [value]="GERMAN">{{ 'artemisApp.tutorialGroupForm.languageInput.german' | artemisTranslate }}</option>
                        <option [value]="ENGLISH">{{ 'artemisApp.tutorialGroupForm.languageInput.english' | artemisTranslate }}</option>
                    </select>
                </div>
            </div>
            <!-- Validation Errors for the smaller input from above-->
            <div class="form-group">
                <div *ngIf="capacityControl?.invalid && (capacityControl?.dirty || capacityControl?.touched)" class="alert alert-danger">
                    <div *ngIf="capacityControl?.errors?.min">
                        {{ 'artemisApp.tutorialGroupForm.capacityInput.minValidationError' | artemisTranslate }}
                    </div>
                </div>
            </div>
            <!-- Additional Information -->
            <div class="form-group">
                <label class="d-block" for="additionalInfo">{{ 'artemisApp.tutorialGroupForm.additionalInformationInput.label' | artemisTranslate }}</label>
                <small id="additionalInfoHelp" class="form-text mb-1 text-muted">
                    <a href="https://guides.github.com/features/mastering-markdown/"> GitHub Markdown Guide</a>
                </small>
                <!-- not included in reactive form -->
                <jhi-markdown-editor
                    aria-describedby="additionalInfoHelp"
                    id="additionalInfo"
                    class="markdown-editor"
                    [(markdown)]="additionalInformation"
                    [enableResize]="true"
                ></jhi-markdown-editor>
            </div>
            <div class="row">
                <div class="col-12">
                    <button id="submitButton" class="btn btn-primary" type="submit" [disabled]="!isSubmitPossible">
                        <span>{{ (isEditMode ? 'global.generic.edit' : 'global.generic.create') | artemisTranslate }}</span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</form>
