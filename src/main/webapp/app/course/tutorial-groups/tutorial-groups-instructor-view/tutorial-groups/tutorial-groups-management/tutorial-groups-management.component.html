<jhi-loading-indicator-container [isLoading]="isLoading">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between">
                <h4>{{ 'artemisApp.manageTutorialGroups.title' | artemisTranslate }}</h4>
                <div>
                    <a
                        class="btn btn-primary"
                        *ngIf="course?.tutorialGroupsConfiguration"
                        [routerLink]="[
                            '/course-management',
                            courseId,
                            'tutorial-groups-management',
                            'configuration',
                            course!.tutorialGroupsConfiguration!.id,
                            'tutorial-free-days'
                        ]"
                    >
                        <fa-icon [icon]="faUmbrellaBeach"></fa-icon>
                        <span>{{ 'artemisApp.tutorialFreeDays.title' | artemisTranslate }}</span>
                    </a>
                    <a class="btn btn-primary" [routerLink]="['/course-management', courseId, 'tutorial-groups-management', 'create']">
                        <fa-icon [icon]="faPlus"></fa-icon>
                        <span>{{ 'artemisApp.manageTutorialGroups.createButton' | artemisTranslate }}</span>
                    </a>
                    <a
                        *ngIf="course?.tutorialGroupsConfiguration"
                        class="btn btn-secondary"
                        [routerLink]="['/course-management', courseId, 'tutorial-groups-management', 'configuration', course!.tutorialGroupsConfiguration!.id, 'edit']"
                    >
                        <fa-icon [icon]="faPencil"></fa-icon>
                        <span>{{ 'artemisApp.createConfiguration.editButton' | artemisTranslate }}</span>
                    </a>
                </div>
            </div>

            <div class="table-responsive">
                <table class="table table-sm table-striped table-hover">
                    <caption>
                        {{
                            'artemisApp.manageTutorialGroups.tableCaption' | artemisTranslate
                        }}
                    </caption>
                    <thead>
                        <tr jhiSort [(predicate)]="sortingPredicate" [(ascending)]="ascending" (sortChange)="sortRows()">
                            <th jhiSortBy="id">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.id' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                            <th jhiSortBy="title">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.title' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                            <th jhiSortBy="tutorialGroupSchedule.dayOfWeek">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.schedule.weekDay' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                            <th jhiSortBy="tutorialGroupSchedule.startTime">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.schedule.time' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                            <th jhiSortBy="teachingAssistant.name">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.teachingAssistant' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                            <th jhiSortBy="capacity">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.capacity' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                            <th jhiSortBy="registeredStudents.length">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.registeredStudents' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                            <th jhiSortBy="isOnline">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.isOnline' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                            <th jhiSortBy="language">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.language' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                            <th jhiSortBy="campus">
                                <a class="th-link">{{ 'artemisApp.manageTutorialGroups.columns.campus' | artemisTranslate }}</a>
                                <fa-icon [icon]="faSort"></fa-icon>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let tutorialGroup of tutorialGroups; trackBy: trackId" id="tutorial-group-row-{{ tutorialGroup.id }}">
                            <td>{{ tutorialGroup.id }}</td>
                            <td>
                                <span class="d-inline-block text-truncate title"> {{ tutorialGroup.title }} </span>
                            </td>
                            <td>{{ tutorialGroup.tutorialGroupSchedule ? (getDayTranslationKey(tutorialGroup.tutorialGroupSchedule?.dayOfWeek) | artemisTranslate) : '' }}</td>
                            <td>
                                {{ tutorialGroup.tutorialGroupSchedule ? tutorialGroup.tutorialGroupSchedule?.startTime + '-' + tutorialGroup.tutorialGroupSchedule?.endTime : '' }}
                            </td>
                            <td>{{ tutorialGroup.teachingAssistant?.name }}</td>
                            <td>{{ tutorialGroup.capacity }}</td>
                            <td>{{ tutorialGroup.registrations?.length }}</td>
                            <td>
                                {{
                                    (tutorialGroup.isOnline ? 'artemisApp.manageTutorialGroups.columns.online' : 'artemisApp.manageTutorialGroups.columns.offline')
                                        | artemisTranslate
                                }}
                            </td>
                            <td>
                                {{
                                    (tutorialGroup.language === GERMAN ? 'artemisApp.tutorialGroupForm.languageInput.german' : 'artemisApp.tutorialGroupForm.languageInput.english')
                                        | artemisTranslate
                                }}
                            </td>
                            <td>
                                <span class="d-inline-block text-truncate long-text"> {{ tutorialGroup.campus }} </span>
                            </td>
                            <td>
                                <jhi-tutorial-group-row-buttons
                                    [courseId]="courseId"
                                    [tutorialGroup]="tutorialGroup"
                                    (tutorialGroupDeleted)="loadAll()"
                                ></jhi-tutorial-group-row-buttons>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</jhi-loading-indicator-container>
