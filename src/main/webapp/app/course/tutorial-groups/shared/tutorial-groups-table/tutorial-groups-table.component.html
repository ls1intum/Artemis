<div class="table-responsive tutorial-groups-table">
    <table class="table table-sm table-hover">
        <thead>
            <tr jhiSort [(predicate)]="sortingPredicate" [(ascending)]="ascending" (sortChange)="sortRows()">
                <th jhiSortBy="id" *ngIf="showIdColumn">
                    <a class="th-link">{{ 'global.field.id' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="title">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroup.title' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="teachingAssistantName">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroup.teachingAssistant' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="capacity">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroup.capacity' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="tutorialGroupSchedule.dayOfWeek">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroupSchedule.dayOfWeek' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="tutorialGroupSchedule.repetitionFrequency">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroupSchedule.repetitionFrequency' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="tutorialGroupSchedule.location">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroupSession.location' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="tutorialGroupSchedule.startTime">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroupSchedule.time' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="numberOfRegisteredUsers">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroup.registrations' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="isOnline">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroup.isOnline' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="language">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroup.language' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th jhiSortBy="campus">
                    <a class="th-link">{{ 'artemisApp.entities.tutorialGroup.campus' | artemisTranslate }}</a>
                    <fa-icon [icon]="faSort"></fa-icon>
                </th>
                <th *ngIf="extraColumn"></th>
            </tr>
        </thead>
        <tbody>
            <tr
                *ngFor="let tutorialGroup of tutorialGroups; trackBy: trackId"
                id="tutorial-group-row-{{ tutorialGroup.id }}"
                [ngClass]="{ 'table-success': tutorialGroup.isUserRegistered, 'table-info': tutorialGroup.isUserTutor }"
            >
                <td *ngIf="showIdColumn">
                    <ng-container *ngIf="tutorialGroupClickHandler; else noTutorialGroupClickHandler">
                        <a [id]="'id-' + tutorialGroup.id" [routerLink]="" class="link-primary" (click)="tutorialGroupClickHandler(tutorialGroup)">{{ tutorialGroup.id }}</a>
                    </ng-container>
                    <ng-template #noTutorialGroupClickHandler>
                        <span>{{ tutorialGroup.id }}</span>
                    </ng-template>
                </td>
                <td>
                    <ng-container *ngIf="tutorialGroupClickHandler; else noTutorialGroupClickHandler">
                        <a [routerLink]="" class="link-primary" (click)="tutorialGroupClickHandler(tutorialGroup)"
                            ><span class="d-inline-block text-truncate title"> {{ tutorialGroup.title }} </span></a
                        >
                    </ng-container>
                    <ng-template #noTutorialGroupClickHandler>
                        <span class="d-inline-block text-truncate title"> {{ tutorialGroup.title }} </span>
                    </ng-template>
                </td>
                <td>{{ tutorialGroup.isUserTutor ? ('global.generic.you' | artemisTranslate) : tutorialGroup.teachingAssistantName }}</td>
                <td>{{ tutorialGroup.capacity }}</td>
                <td>{{ tutorialGroup.tutorialGroupSchedule ? (getDayTranslationKey(tutorialGroup.tutorialGroupSchedule?.dayOfWeek) | artemisTranslate) : '' }}</td>
                <td>
                    <span *ngIf="tutorialGroup.tutorialGroupSchedule; else no_schedule">
                        {{
                            (tutorialGroup.tutorialGroupSchedule!.repetitionFrequency! === 1
                                ? 'artemisApp.entities.tutorialGroupSchedule.repetitionOneWeek'
                                : 'artemisApp.entities.tutorialGroupSchedule.repetitionNWeeks'
                            ) | artemisTranslate: { n: tutorialGroup.tutorialGroupSchedule!.repetitionFrequency! }
                        }}
                    </span>
                    <ng-template #no_schedule></ng-template>
                </td>
                <td>
                    <span class="d-inline-block text-truncate long-text"> {{ tutorialGroup.tutorialGroupSchedule ? tutorialGroup.tutorialGroupSchedule?.location : '' }} </span>
                </td>
                <td>
                    {{ tutorialGroup.tutorialGroupSchedule ? tutorialGroup.tutorialGroupSchedule?.startTime + '-' + tutorialGroup.tutorialGroupSchedule?.endTime : '' }}
                </td>
                <td>{{ tutorialGroup.numberOfRegisteredUsers }}</td>
                <td>
                    {{ (tutorialGroup.isOnline ? 'artemisApp.generic.online' : 'artemisApp.generic.offline') | artemisTranslate }}
                </td>
                <td>
                    {{ (tutorialGroup.language === GERMAN ? 'artemisApp.generic.german' : 'artemisApp.generic.english') | artemisTranslate }}
                </td>
                <td>
                    <span class="d-inline-block text-truncate long-text"> {{ tutorialGroup.campus }} </span>
                </td>
                <td *ngIf="extraColumn">
                    <ng-template [ngTemplateOutlet]="extraColumn" [ngTemplateOutletContext]="{ $implicit: tutorialGroup }"></ng-template>
                </td>
            </tr>
        </tbody>
    </table>
</div>
