@if (course) {
    <div class="row">
        <div class="col d-flex align-items-center">
            <h3>
                <span>
                    {{ exerciseCount }}
                    {{ 'artemisApp.course.exercises' | artemisTranslate }}
                </span>
            </h3>
            <jhi-documentation-button [type]="documentationType"></jhi-documentation-button>
        </div>
        <div class="col text-end align-self-center">
            @if (showBackToWizardModeButton) {
                <button type="button" id="back-to-wizard" class="btn btn-secondary" (click)="goBackToWizardMode()">
                    <fa-icon [icon]="faHandshakeAngle"></fa-icon>&nbsp;{{ 'artemisApp.lecture.wizardMode.backToWizard' | artemisTranslate }}
                </button>
            }
            <button id="toggleSearchButton" class="btn btn-secondary" type="button" (click)="toggleSearch()">
                {{ 'artemisApp.course.exercise.search.toggleButton.' + showSearch | artemisTranslate }}
            </button>
        </div>
    </div>
    @if (showSearch) {
        <jhi-course-management-exercises-search (exerciseFilter)="exerciseFilter = $event"></jhi-course-management-exercises-search>
    }
    @if (showSearch && filteredExerciseCount === 0 && !exerciseFilter.isEmpty()) {
        <div class="alert alert-secondary" role="alert">
            {{ 'artemisApp.course.exercise.search.noResults' | artemisTranslate }}
        </div>
    }
    <jhi-course-exercise-card
        [headingJhiTranslate]="'artemisApp.course.programmingExercises'"
        [exerciseCount]="programmingExercisesCount"
        [hidden]="shouldHideExerciseCard('programming')"
        [course]="course"
        [exerciseType]="ExerciseType.PROGRAMMING"
    >
        <jhi-programming-exercise-create-buttons exerciseCreateButtons *jhiExtensionPoint="overrideGenerateAndImportButton" [course]="course" />
        <jhi-programming-exercise
            exercises
            *jhiExtensionPoint="
                overrideProgrammingExerciseCard;
                context: {
                    embedded: true,
                    course: course,
                    programmingExerciseCountCallback: setProgrammingExerciseCount.bind(this),
                    exerciseFilter: exerciseFilter,
                    filteredProgrammingExercisesCountCallback: setFilteredProgrammingExerciseCount.bind(this)
                }
            "
            [embedded]="true"
            [course]="course"
            [exerciseFilter]="exerciseFilter"
            (exerciseCount)="programmingExercisesCount = $event"
            (filteredExerciseCount)="filteredProgrammingExercisesCount = $event"
        />
    </jhi-course-exercise-card>
    <jhi-course-exercise-card
        *jhiExtensionPoint="overrideNonProgrammingExerciseCard"
        [headingJhiTranslate]="'artemisApp.course.quizExercises'"
        [exerciseCount]="quizExercisesCount"
        [hidden]="shouldHideExerciseCard('quiz')"
        [course]="course"
        [exerciseType]="ExerciseType.QUIZ"
    >
        <jhi-quiz-exercise-create-buttons exerciseCreateButtons [course]="course" [quizExercisesCount]="quizExercisesCount" />
        <jhi-quiz-exercise
            exercises
            [embedded]="true"
            [course]="course"
            [exerciseFilter]="exerciseFilter"
            (exerciseCount)="quizExercisesCount = $event"
            (filteredExerciseCount)="filteredQuizExercisesCount = $event"
        />
    </jhi-course-exercise-card>
    <jhi-course-exercise-card
        *jhiExtensionPoint="overrideNonProgrammingExerciseCard"
        [headingJhiTranslate]="'artemisApp.course.modelingExercises'"
        [exerciseCount]="modelingExercisesCount"
        [hidden]="shouldHideExerciseCard('modeling')"
        [course]="course"
        [exerciseType]="ExerciseType.MODELING"
    >
        <jhi-exercise-create-buttons exerciseCreateButtons [course]="course" [exerciseType]="ExerciseType.MODELING" />
        <jhi-modeling-exercise
            exercises
            [embedded]="true"
            [course]="course"
            [exerciseFilter]="exerciseFilter"
            (exerciseCount)="modelingExercisesCount = $event"
            (filteredExerciseCount)="filteredModelingExercisesCount = $event"
        />
    </jhi-course-exercise-card>
    <jhi-course-exercise-card
        *jhiExtensionPoint="overrideNonProgrammingExerciseCard"
        [headingJhiTranslate]="'artemisApp.course.textExercises'"
        [exerciseCount]="textExercisesCount"
        [hidden]="shouldHideExerciseCard('text')"
        [course]="course"
        [exerciseType]="ExerciseType.TEXT"
    >
        <jhi-exercise-create-buttons exerciseCreateButtons [course]="course" [exerciseType]="ExerciseType.TEXT" />
        <jhi-text-exercise
            exercises
            [embedded]="true"
            [course]="course"
            [exerciseFilter]="exerciseFilter"
            (exerciseCount)="textExercisesCount = $event"
            (filteredExerciseCount)="filteredTextExercisesCount = $event"
        />
    </jhi-course-exercise-card>
    <jhi-course-exercise-card
        *jhiExtensionPoint="overrideNonProgrammingExerciseCard"
        [headingJhiTranslate]="'artemisApp.course.mathExercises'"
        [exerciseCount]="mathExercisesCount"
        [hidden]="shouldHideExerciseCard('math')"
        [course]="course"
        [exerciseType]="ExerciseType.MATH"
    >
        <jhi-exercise-create-buttons exerciseCreateButtons [course]="course" [exerciseType]="ExerciseType.MATH" />
        <jhi-math-exercise
            exercises
            [embedded]="true"
            [course]="course"
            [exerciseFilter]="exerciseFilter"
            (exerciseCount)="mathExercisesCount = $event"
            (filteredExerciseCount)="filteredMathExercisesCount = $event"
        />
    </jhi-course-exercise-card>
    <jhi-course-exercise-card
        *jhiExtensionPoint="overrideNonProgrammingExerciseCard"
        [headingJhiTranslate]="'artemisApp.course.fileUploadExercises'"
        [exerciseCount]="fileUploadExercisesCount"
        [hidden]="shouldHideExerciseCard('file-upload')"
        [course]="course"
        [exerciseType]="ExerciseType.FILE_UPLOAD"
    >
        <jhi-exercise-create-buttons exerciseCreateButtons [course]="course" [exerciseType]="ExerciseType.FILE_UPLOAD" />
        <jhi-file-upload-exercise
            exercises
            [embedded]="true"
            [course]="course"
            [exerciseFilter]="exerciseFilter"
            (exerciseCount)="fileUploadExercisesCount = $event"
            (filteredExerciseCount)="filteredFileUploadExercisesCount = $event"
        />
    </jhi-course-exercise-card>
}
