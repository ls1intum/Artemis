<div>
    @if (showUnratedConfirmation) {
        <div class="modal-backdrop fade show"></div>
        <div class="modal d-block" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" jhiTranslate="artemisApp.quizQuestion.unratedConfirmationTitle"></h5>
                    </div>
                    <div class="modal-body">
                        <p jhiTranslate="artemisApp.quizQuestion.unratedConfirmation"></p>
                    </div>
                    <div class="modal-footer">
                        <jhi-button (onClick)="confirmUnratedPractice()" [title]="'global.generic.yes'" />
                        <jhi-button (onClick)="cancelUnratedPractice()" [title]="'global.generic.no'" />
                    </div>
                </div>
            </div>
        </div>
    }

    @if (questionsLoaded()) {
        @if (currentQuestion(); as question) {
            @if (question.type === MULTIPLE_CHOICE) {
                <jhi-multiple-choice-question
                    [question]="question"
                    [selectedAnswerOptions]="selectedAnswerOptions"
                    (selectedAnswerOptionsChange)="selectedAnswerOptions = $event"
                    [questionIndex]="currentIndex() + 1"
                    [showResult]="showingResult"
                    [score]="questionScores"
                />
            }
            @if (question.type === SHORT_ANSWER) {
                <jhi-short-answer-question
                    [question]="question"
                    [submittedTexts]="shortAnswerSubmittedTexts"
                    (submittedTextsChange)="shortAnswerSubmittedTexts = $event"
                    [questionIndex]="currentIndex() + 1"
                    [showResult]="showingResult"
                    [score]="questionScores"
                />
            }
            @if (question.type === DRAG_AND_DROP) {
                <jhi-drag-and-drop-question
                    [question]="question"
                    [mappings]="dragAndDropMappings"
                    (mappingsChange)="dragAndDropMappings = $event"
                    [questionIndex]="currentIndex() + 1"
                    [showResult]="showingResult"
                    [score]="questionScores"
                />
            }
        }
        @if (!submitted) {
            <jhi-button id="submit-question" class="ms-2" (onClick)="onSubmit()" [title]="'artemisApp.exercise.submit'" />
        }
        @if (submitted) {
            @if (isLastQuestion()) {
                <jhi-button class="ms-2" (onClick)="navigateToTraining()" [title]="'artemisApp.exercise.endTraining'" />
            } @else {
                <jhi-button class="ms-2" (onClick)="nextQuestion()" [title]="'artemisApp.exercise.nextQuestion'" />
            }
        }
    }
</div>
