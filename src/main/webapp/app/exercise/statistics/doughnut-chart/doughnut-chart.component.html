<div class="mx-2 d-flex flex-column justify-content-between h-100">
    @if (titleLink) {
        <a [routerLink]="titleLink">
            <h4 class="text-center">{{ 'exercise-statistics.' + doughnutChartTitle | artemisTranslate }}</h4>
        </a>
    }
    @if (!titleLink) {
        <h4 class="text-center">{{ 'exercise-statistics.' + doughnutChartTitle | artemisTranslate }}</h4>
    }
    <div class="doughnut-chart-container" [ngClass]="titleLink ? 'clickable' : ''" (click)="openCorrespondingPage()">
        <div class="doughnut-chart-text">
            @if (receivedStats) {
                <h2 class="text-center">{{ currentPercentage }}%</h2>
            }
            @if (receivedStats) {
                <h4 class="text-center">{{ currentAbsolute }} / {{ currentMax }}</h4>
            }
            @if (!receivedStats) {
                <h1 class="text-center" style="z-index: 1">
                    <fa-icon [icon]="faSpinner" animation="spin" />
                </h1>
            }
        </div>
        <ngx-charts-pie-chart [view]="[200, 200]" [results]="ngxDoughnutData" [scheme]="ngxColor" [doughnut]="true" [tooltipText]="bindFormatting" />
    </div>
</div>
