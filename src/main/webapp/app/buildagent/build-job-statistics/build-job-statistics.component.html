<div class="mb-4">
    <div class="d-flex align-items-center gap-2 mb-3">
        <h5 id="build-queue-overview" class="mb-0" jhiTranslate="artemisApp.buildQueue.statistics.title"></h5>
        @if (displaySpanSelector) {
            <jhi-help-icon class="ps-1" text="artemisApp.buildQueue.statistics.titleTooltip" />
            <div class="btn-group btn-group-toggle btn-group-sm ms-2" data-toggle="buttons">
                <label class="btn btn-secondary" [class.active]="currentSpan === SpanType.DAY">
                    <input type="radio" name="options" id="option1" (click)="onTabChange(SpanType.DAY)" />
                    <span jhiTranslate="artemisApp.buildQueue.statistics.daySpan"></span>
                </label>
                <label class="btn btn-secondary" [class.active]="currentSpan === SpanType.WEEK">
                    <input type="radio" name="options" id="option2" checked (click)="onTabChange(SpanType.WEEK)" />
                    <span jhiTranslate="artemisApp.buildQueue.statistics.weekSpan"></span>
                </label>
                <label class="btn btn-secondary" [class.active]="currentSpan === SpanType.MONTH">
                    <input type="radio" name="options" id="option3" (click)="onTabChange(SpanType.MONTH)" />
                    <span jhiTranslate="artemisApp.buildQueue.statistics.monthSpan"></span>
                </label>
            </div>
        }
    </div>
    <div class="d-flex align-items-center flex-wrap gap-3">
        <ngx-charts-pie-chart class="chart-container" [view]="[80, 80]" [results]="pieChartData()" [scheme]="pieChartColorScheme" [doughnut]="true" [arcWidth]="0.4" />
        <div class="d-flex flex-wrap gap-2 stats-container">
            <div class="stats-item">
                <span class="bold" jhiTranslate="artemisApp.buildQueue.statistics.totalBuilds"></span>
                <span>{{ buildJobStatistics().totalBuilds }}</span>
            </div>
            <div class="stats-item">
                <span class="bold" jhiTranslate="artemisApp.buildQueue.statistics.successfulBuildsWithColon"></span>
                <span>{{ buildJobStatistics().successfulBuilds }}</span>
                <span class="text-muted small">({{ successfulBuildsPercentage() }})</span>
            </div>
            <div class="stats-item">
                <span class="bold" jhiTranslate="artemisApp.buildQueue.statistics.failedBuilds"></span>
                <span>{{ buildJobStatistics().failedBuilds }}</span>
                <span class="text-muted small">({{ failedBuildsPercentage() }})</span>
            </div>
            <div class="stats-item">
                <span class="bold" jhiTranslate="artemisApp.buildQueue.statistics.cancelledBuilds"></span>
                <span>{{ buildJobStatistics().cancelledBuilds }}</span>
                <span class="text-muted small">({{ cancelledBuildsPercentage() }})</span>
            </div>
            <div class="stats-item">
                <span class="bold" jhiTranslate="artemisApp.buildQueue.statistics.timeoutBuilds"></span>
                <span>{{ buildJobStatistics().timeOutBuilds }}</span>
                <span class="text-muted small">({{ timeoutBuildsPercentage() }})</span>
            </div>
            @if (displayMissingBuilds) {
                <div class="stats-item">
                    <span class="bold" jhiTranslate="artemisApp.buildQueue.statistics.missingBuilds"></span>
                    <span>{{ buildJobStatistics().missingBuilds }}</span>
                    <span class="text-muted small">({{ missingBuildsPercentage() }})</span>
                </div>
            }
        </div>
    </div>
</div>
