<div>
    <div class="d-flex">
        <h4 id="course-page-heading" jhiTranslate="artemisApp.examManagement.title">Exams</h4>
        <div class="ml-auto d-flex">
            <button jhiOrionFilter class="btn btn-primary jh-create-entity create-exam" *jhiHasAnyAuthority="['ROLE_ADMIN', 'ROLE_INSTRUCTOR']" [routerLink]="['new']">
                <fa-icon [icon]="'plus'"></fa-icon>
                <span class="hidden-sm-down">
                    Create new Exam
                </span>
            </button>
        </div>
    </div>
    <jhi-alert></jhi-alert>
    <div class="row"></div>
    <br />
    <div class="table-responsive" *ngIf="exams">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="d-none d-md-table-cell"></th>
                    <th class="d-none d-md-table-cell" jhisortby="id">
                        <span>{{ 'global.field.id' | translate }}</span>
                        <fa-icon [icon]="'sort'"></fa-icon>
                    </th>
                    <th>
                        <span>{{ 'artemisApp.exam.title' | translate }}</span>
                    </th>
                    <th class="d-none d-md-table-cell">
                        <span>{{ 'artemisApp.exam.visible' | translate }}</span>
                    </th>
                    <th>
                        <span>{{ 'artemisApp.exam.startDate' | translate }}</span>
                    </th>
                    <th>
                        <span>{{ 'artemisApp.exam.endDate' | translate }}</span>
                    </th>
                    <th>
                        <span>{{ 'artemisApp.exam.duration' | translate }}</span>
                    </th>
                    <th>
                        <span>{{ 'artemisApp.exam.nrOfStudents' | translate }}</span>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let exam of exams | sortBy: predicate:true; trackBy: trackId">
                    <td class="d-none d-md-table-cell">
                        <div [ngStyle]="{ backgroundColor: ARTEMIS_DEFAULT_COLOR, width: '15px', height: '20px' }">&nbsp;</div>
                    </td>
                    <td class="d-none d-md-table-cell">
                        <a [routerLink]="[exam.id, 'view']">{{ exam.id }}</a>
                    </td>
                    <td class="d-none d-md-table-cell">
                        <span class="bold">{{ exam.title }}</span>
                    </td>
                    <td>{{ exam.visibleDate | artemisDate }}</td>
                    <td>{{ exam.startDate | artemisDate }}</td>
                    <td>{{ exam.endDate | artemisDate }}</td>
                    <td>{{ exam.endDate.diff(exam.startDate) | amDuration: 'hours' }}</td>
                    <td>{{ exam.registeredUsers }}</td>
                    <td jhiOrionFilter [showInOrionWindow]="false" class="text-right">
                        <div class="btn-group flex-btn-group-container">
                            <div class="btn-group-vertical mr-1 mb-1">
                                <button
                                    *ngIf="exam.isAtLeastInstructor"
                                    type="submit"
                                    [routerLink]="[exam.id, 'exerciseGroups']"
                                    class="btn btn-primary btn-sm mr-1 mb-1 exercise-button"
                                    id="exercises-button-{{ exam.id }}"
                                >
                                    <fa-icon [icon]="'list-alt'"></fa-icon>
                                    <span class="d-none d-md-inline">{{ 'artemisApp.examManagement.exerciseGroups' | translate }}</span>
                                </button>
                            </div>
                            <div class="btn-group-vertical mr-1 mb-1" *jhiHasAnyAuthority="['ROLE_INSTRUCTOR', 'ROLE_TA']">
                                <button *ngIf="exam.isAtLeastTutor" type="submit" [routerLink]="[exam.id, 'assessmentDashboard']" class="btn btn-info btn-sm mr-1 mb-1">
                                    <fa-icon [icon]="'list-alt'"></fa-icon>
                                    <span class="d-none d-md-inline"> {{ 'artemisApp.examManagement.assessmentDashboard' }}</span>
                                </button>
                            </div>
                            <div class="btn-group-vertical mr-1 mb-1" *jhiHasAnyAuthority="['ROLE_INSTRUCTOR', 'ROLE_TA']">
                                <button type="submit" *ngIf="exam.exam.isAtLeastTutor" [routerLink]="[exam.id, 'studentExams']" class="btn btn-info btn-sm mr-1 mb-1">
                                    <fa-icon [icon]="'eye'"></fa-icon>
                                    <span class="d-none d-md-inline">{{ 'artemisApp.examManagement.studentExams' | translate }}</span>
                                </button>
                            </div>
                            <div class="btn-group-vertical mr-1 mb-1" *jhiHasAnyAuthority="['ROLE_ADMIN', 'ROLE_INSTRUCTOR']">
                                <button type="submit" *ngIf="exam.isAtLeastInstructor" [routerLink]="[exam.id, 'students']" class="btn btn-info btn-sm mr-1 mb-1 tutor-dashboard">
                                    <fa-icon [icon]="'th-list'"></fa-icon>
                                    <span class="d-none d-md-inline">{{ 'artemisApp.examManagement.students' | translate }}</span>
                                </button>
                            </div>
                            <div class="d-flex flex-column mr-1 mb-1" *jhiHasAnyAuthority="['ROLE_ADMIN', 'ROLE_INSTRUCTOR']">
                                <button type="submit" *ngIf="exam.isAtLeastInstructor" [routerLink]="[exam.id, 'edit']" class="btn btn-primary btn-sm mr-1 mb-1">
                                    <fa-icon [icon]="'pencil-alt'"></fa-icon>
                                    <span class="d-none d-md-inline">{{ 'entity.action.edit' | translate }}</span>
                                </button>
                            </div>
                            <div class="d-flex flex-column mr-1 mb-1" *jhiHasAnyAuthority="['ROLE_ADMIN', 'ROLE_INSTRUCTOR']">
                                <button
                                    *jhiHasAnyAuthority="['ROLE_ADMIN']"
                                    jhiDeleteButton
                                    [entityTitle]="exam.title"
                                    deleteQuestion="artemisApp.examManagement.delete.question"
                                    deleteConfirmationText="artemisApp.examManagement.delete.typeNameToConfirm"
                                    (delete)="deleteExam(exam.id)"
                                    [dialogError]="dialogError$"
                                >
                                    <fa-icon [icon]="'times'"></fa-icon>
                                </button>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
