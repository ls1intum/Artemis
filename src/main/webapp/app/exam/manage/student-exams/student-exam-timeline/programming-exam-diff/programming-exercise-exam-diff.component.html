<h4 class="exercise-title">
    {{ exercise.title }}
    <span
        >[{{ exercise.maxPoints }} {{ 'artemisApp.examParticipation.points' | artemisTranslate }}]
        <jhi-included-in-score-badge
            *ngIf="exercise.includedInOverallScore !== IncludedInOverallScore.INCLUDED_COMPLETELY"
            [includedInOverallScore]="exercise.includedInOverallScore"
        ></jhi-included-in-score-badge
    ></span>
</h4>
<jhi-commits-info
    class="mb-2"
    [currentSubmissionHash]="currentSubmission?.commitHash"
    [previousSubmissionHash]="previousSubmission?.commitHash"
    [participationId]="studentParticipation?.id"
    [submissions]="submissions"
    [exerciseProjectKey]="exercise?.projectKey"
/>
<div *ngIf="exercise?.gitDiffReport">
    <dt>
        <span jhiTranslate="artemisApp.programmingExercise.diffReport.lineStatBetweenSubmissionsLabelPart1"></span>
        <span class="font-italic text-info">{{ currentSubmission?.commitHash }}</span>
        <ng-container *ngIf="previousSubmission">
            <span jhiTranslate="artemisApp.programmingExercise.diffReport.lineStatBetweenSubmissionsLabelPart2"></span>
            <span class="font-italic text-info">{{ previousSubmission?.commitHash }}</span>
            <span jhiTranslate="artemisApp.programmingExercise.diffReport.lineStatBetweenSubmissionsLabelPart3"></span>
        </ng-container>
        <ng-container *ngIf="!previousSubmission">
            <span jhiTranslate="artemisApp.programmingExercise.diffReport.lineStatBetweenSubmissionsLabelTemplate"></span>
        </ng-container>
    </dt>
    <dd>
        <div class="fw-bold">
            <jhi-git-diff-line-stat
                [addedLineCount]="addedLineCount"
                [removedLineCount]="removedLineCount"
                ngbTooltip="{{ 'artemisApp.programmingExercise.diffReport.lineStatTooltipExamTimeline' | artemisTranslate }}"
            ></jhi-git-diff-line-stat>
            <jhi-button
                *ngIf="addedLineCount > 0 || removedLineCount > 0"
                [featureToggle]="FeatureToggle.ProgrammingExercises"
                [isLoading]="isLoadingDiffReport"
                [btnSize]="ButtonSize.SMALL"
                [icon]="faEye"
                [title]="'artemisApp.programmingExercise.diffReport.button'"
                [tooltip]="'artemisApp.programmingExercise.diffReport.tooltipBetweenSubmissions'"
                (onClick)="showGitDiff()"
                class="ms-2"
            ></jhi-button>
        </div>
    </dd>
</div>
