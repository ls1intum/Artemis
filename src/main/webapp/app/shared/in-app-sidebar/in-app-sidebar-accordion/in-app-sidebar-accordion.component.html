@if (!entityData?.length) {
    <div>
        {{ 'artemisApp.courseOverview.exerciseList.noExerciseMatchesSearchAndFilters' | artemisTranslate }}
    </div>
} @else {
    @for (exerciseGroupKey of Object.keys(exerciseGroups); track exerciseGroupKey) {
        <div class="pointer" [ngClass]="{ 'd-none': !(exerciseGroups[exerciseGroupKey].exercises | searchFilter: ['title', 'type'] : searchValue)?.length }">
            <div class="control-label d-flex align-items-center justify-content-between py-2 bg-module" (click)="toggleGroupCategoryCollapse(exerciseGroupKey)">
                <div class="my-2">
                    {{ 'artemisApp.courseOverview.exerciseList.' + exerciseGroupKey | artemisTranslate }}
                    ({{ (exerciseGroups[exerciseGroupKey].exercises | searchFilter: ['title', 'type'] : searchValue)?.length }})
                </div>
                <div class="icon-container pe-3">
                    <fa-icon [icon]="faChevronRight" class="rotate-icon chevron-position" [class.rotated]="!collapseState[exerciseGroupKey].isCollapsed" />
                </div>
            </div>
            <hr class="my-0" />
            <div [ngbCollapse]="collapseState[exerciseGroupKey].isCollapsed" class="p-2 bg-body">
                @for (entityItem of exerciseGroups[exerciseGroupKey].exercises | searchFilter: ['title', 'type'] : searchValue; track entityItem) {
                    <jhi-in-app-sidebar-card class="pb-1" [entityItem]="entityItem" [routeParams]="routeParams" />
                }
            </div>
            @if (!collapseState[exerciseGroupKey].isCollapsed) {
                <hr class="my-0" />
            }
        </div>
    }
}
