<ng-container>
    @if (participations?.length && participations?.length === 1) {
        <button
            jhi-exercise-action-button
            [id]="'open-repository-' + exercise.id!"
            [buttonIcon]="faCodeBranch"
            class="open-repository"
            [jhiFeatureToggle]="FeatureToggle.ProgrammingExercises"
            [buttonLabel]="'artemisApp.exerciseActions.openRepository' | artemisTranslate"
            [buttonLoading]="loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            [routerLink]="[courseAndExerciseNavigationUrl, participations[0].id]"
        ></button>
    }
    @if (participations?.length && participations.length! > 1) {
        <button
            jhi-exercise-action-button
            [buttonIcon]="faCodeBranch"
            class="open-repository"
            [jhiFeatureToggle]="FeatureToggle.ProgrammingExercises"
            [buttonLabel]="'artemisApp.exerciseActions.openRepository' | artemisTranslate"
            [buttonLoading]="loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            [ngbPopover]="popContent"
            [autoClose]="'outside'"
            placement="right auto"
        ></button>
    }
    <ng-template #popContent style="max-width: 660px">
        <button
            jhi-exercise-action-button
            [id]="'open-exercise-popover-' + exercise.id!"
            [buttonIcon]="faCodeBranch"
            class="open-repository"
            [jhiFeatureToggle]="FeatureToggle.ProgrammingExercises"
            [buttonLabel]="'artemisApp.exerciseActions.openRepository' | artemisTranslate"
            [buttonLoading]="loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            [routerLink]="[courseAndExerciseNavigationUrl, activeParticipation.id]"
        ></button>
    </ng-template>
</ng-container>
