<div class="text-exercise-demo">
    <div class="container">
        <h1>Unified Feedback Components for Text Exercises</h1>
        <p class="lead">This page showcases how the unified feedback components work with text exercise feedback.</p>

        <div class="demo-section">
            <h2>Individual Unified Feedback Components</h2>
            <div class="demo-grid">
                @for (feedback of sampleFeedbacks; track feedback.id) {
                    <div class="demo-item">
                        <h3>Feedback #{{ feedback.id }}</h3>
                        <jhi-unified-feedback
                            [feedbackContent]="feedback.detailText || ''"
                            [points]="feedback.credits || 0"
                            [icon]="(feedback.credits || 0) > 0 ? 'success' : (feedback.credits || 0) < 0 ? 'error' : 'retry'"
                            [title]="(feedback.credits || 0) > 0 ? 'Good job!' : (feedback.credits || 0) < 0 ? 'Incorrect' : 'Needs revision'"
                            [reference]="feedback.reference ? 'Reference: ' + feedback.reference : undefined"
                        />
                    </div>
                }
            </div>
        </div>

        <div class="demo-section">
            <h2>Unified Text Result Component</h2>
            <p>This shows how feedback appears inline with the text submission:</p>
            <div class="text-submission-demo">
                <jhi-unified-text-result [result]="mockResult" />
            </div>
        </div>

        <div class="demo-section">
            <h2>Additional Feedback Examples</h2>
            <p>This shows how additional feedback appears using individual unified feedback components:</p>
            <div class="additional-feedback-demo">
                @for (feedback of additionalFeedbacks; track feedback.id) {
                    <jhi-unified-feedback
                        [feedbackContent]="feedback.detailText || ''"
                        [points]="feedback.credits || 0"
                        [icon]="(feedback.credits || 0) > 0 ? 'success' : (feedback.credits || 0) < 0 ? 'error' : 'retry'"
                        [title]="(feedback.credits || 0) > 0 ? 'Good job!' : (feedback.credits || 0) < 0 ? 'Incorrect' : 'Needs revision'"
                    />
                }
            </div>
        </div>

        <div class="demo-section">
            <h2>Comparison: Old vs New</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h3>Old Style (Current)</h3>
                    <div class="old-style-demo">
                        <div class="alert alert-success">
                            <span class="feedback-points">2 points:</span>
                            <span>Your explanation of the concept is excellent and demonstrates deep understanding.</span>
                        </div>
                        <div class="alert alert-warning">
                            <span class="feedback-points">0 points:</span>
                            <span>The argument could be strengthened with more specific examples.</span>
                        </div>
                    </div>
                </div>
                <div class="comparison-item">
                    <h3>New Style (Unified)</h3>
                    <div class="new-style-demo">
                        <jhi-unified-feedback
                            feedbackContent="Your explanation of the concept is excellent and demonstrates deep understanding."
                            [points]="2"
                            icon="success"
                            title="Good job!"
                        />
                        <jhi-unified-feedback feedbackContent="The argument could be strengthened with more specific examples." [points]="0" icon="retry" title="Needs revision" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
