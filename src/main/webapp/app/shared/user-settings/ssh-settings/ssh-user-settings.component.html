<h1 jhiTranslate="artemisApp.userSettings.sshSettings">
    <!--SSH Settings-->
</h1>
@if (currentUser) {
    <div class="list-group d-block">
        <!-- Initial state: There are no keys -->
        @if (keyCount === 0 && !editSshKey) {
            <div class="list-group-item px-4 py-4">
                <div class="mt-4"></div>
                <h4 class="text-center mb-4 mt-8" jhiTranslate="artemisApp.userSettings.sshSettingsPage.noKeysHaveBeenAdded">No SSH keys have been added</h4>
                <div class="text-center mt-4 d-flex justify-content-center align-items-center flex-wrap" style="max-width: 500px; margin: 0 auto">
                    <p>
                        <span style="font-size: medium" jhiTranslate="artemisApp.userSettings.sshSettingsPage.whatToUseSSHForInfo"> </span>
                        <jhi-documentation-link [documentationType]="documentationType" [displayString]="'artemisApp.userSettings.sshSettingsPage.learnMore'">
                        </jhi-documentation-link>
                    </p>
                </div>

                <div class="d-flex justify-content-center mb-4">
                    <jhi-button
                        [btnType]="ButtonType.PRIMARY"
                        [btnSize]="ButtonSize.MEDIUM"
                        [title]="'artemisApp.userSettings.sshSettingsPage.addNewSshKey'"
                        (onClick)="editSshKey = !editSshKey"
                    />
                </div>
            </div>
        }
        <!-- Initial state: There are keys -->
        @if (keyCount > 0 && !editSshKey) {
            <dt class="list-group-item" jhiTranslate="artemisApp.userSettings.sshSettingsPage.sshKeyDisplayedInformation"></dt>
            <div class="list-group-item">
                {{ sshKey }}
            </div>
            <div class="list-group-item">
                <div class="btn-group" role="group" aria-label="Actions">
                    <jhi-button
                        class="d-flex"
                        [btnType]="ButtonType.PRIMARY"
                        [btnSize]="ButtonSize.SMALL"
                        [icon]="faEdit"
                        [title]="'artemisApp.userSettings.sshSettingsPage.editExistingSshKey'"
                        (onClick)="editSshKey = !editSshKey"
                    />
                </div>
                <div class="btn-group" role="group" aria-label="Actions">
                    <button
                        class="btn btn-md flex-grow-1 d-flex align-items-center"
                        jhiDeleteButton
                        [renderButtonText]="false"
                        (delete)="deleteSshKey()"
                        deleteQuestion="artemisApp.userSettings.sshSettingsPage.deleteSshKeyQuestion"
                        [dialogError]="dialogError$"
                    >
                        <fa-icon [icon]="faTrash" />
                        <div jhiTranslate="artemisApp.userSettings.sshSettingsPage.deleteSshKey" class="ms-2">Delete</div>
                    </button>
                </div>
            </div>
        }
        <!-- Editing existing key -->
        @if (editSshKey) {
            <div class="list-group-item">
                <div jhiTranslate="artemisApp.userSettings.sshSettingsPage.key"></div>
            </div>
            <div class="list-group-item">
                <dd>
                    <textarea class="form-control" rows="10" [readonly]="!editSshKey" [(ngModel)]="sshKey"></textarea>
                </dd>
                <div class="col col-auto text-right">
                    <div class="btn-group" role="group" aria-label="Actions">
                        <jhi-button
                            [btnType]="ButtonType.PRIMARY"
                            [btnSize]="ButtonSize.SMALL"
                            [icon]="faSave"
                            [title]="'artemisApp.userSettings.sshSettingsPage.saveSshKey'"
                            (onClick)="saveSshKey()"
                        />
                    </div>
                    <div class="btn-group" role="group" aria-label="Actions">
                        <jhi-button
                            [btnType]="ButtonType.PRIMARY"
                            [btnSize]="ButtonSize.SMALL"
                            [title]="'artemisApp.userSettings.sshSettingsPage.cancelSavingSshKey'"
                            (onClick)="cancelEditingSshKey()"
                        />
                    </div>
                </div>
            </div>
        }
    </div>
}
