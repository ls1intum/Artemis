<div class="col-12">
    <jhi-markdown-editor-monaco
        class="markdown-editor background-editor-color w-100"
        [markdown]="content"
        (markdownChange)="updateField($event)"
        (onEditSelect)="previewMode = false"
        (onPreviewSelect)="previewMode = true"
        [metaActions]="[]"
        [headerActions]="undefined"
        [defaultActions]="defaultActions"
        [lectureReferenceAction]="lectureAttachmentReferenceAction"
        [enableFileUpload]="true"
        [useCommunicationForFileUpload]="true"
        [fallbackConversationId]="fallbackConversationId()"
        [colorAction]="undefined"
        [enableResize]="false"
        [showDefaultPreview]="false"
        [useDefaultMarkdownEditorOptions]="false"
        [linkEditorHeightToContentHeight]="true"
        [initialEditorHeight]="editorHeight"
        [resizableMinHeight]="editorHeight"
        [resizableMaxHeight]="MarkdownEditorHeight.MEDIUM"
        (keydown)="onKeyDown($event)"
        [isButtonLoading]="isButtonLoading()"
        [isFormGroupValid]="isFormGroupValid()"
        [editType]="editType()"
        [isInCommunication]="true"
    >
        <ng-container id="previewMonaco">
            @if (previewMode) {
                <jhi-posting-content [content]="content" />
            }
            <hr />
        </ng-container>
        <!-- End of Preview-->
    </jhi-markdown-editor-monaco>
</div>
@if (isInputLengthDisplayed || (content?.length ?? 0) > maxContentLength) {
    <div class="col mt-1 text-end">
        <p class="small my-0 ms-2" [ngStyle]="{ color: content?.length! > maxContentLength || content?.length! === 0 ? 'red' : 'inherit' }">
            {{ content?.length ?? 0 }} / {{ maxContentLength }}
        </p>
    </div>
}
