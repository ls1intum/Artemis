<div #containerRef>
    <ngx-charts-bar-vertical
        [roundEdges]="false"
        [view]="[containerRef.offsetWidth, height]"
        [results]="ngxData"
        [scheme]="ngxColor"
        [yAxis]="true"
        [xAxis]="true"
        [yAxisLabel]="yAxisLabel"
        [showYAxisLabel]="showYAxisLabel"
        [xAxisLabel]="xAxisLabel"
        [showXAxisLabel]="true"
        [yScaleMax]="yScaleMax"
        [showDataLabel]="true"
        [animations]="false"
        [dataLabelFormatting]="dataLabelFormatting"
        [showDataLabel]="!isCourseScore"
        (select)="onSelect.emit($event)"
        class="row"
    >
        <ng-template #tooltipTemplate let-model="model">
            <b>{{ model.name }}</b>
            <br />
            <span>{{ 'statistics.amountOfStudents' | artemisTranslate }}: {{ model.value }}</span>
        </ng-template>
    </ngx-charts-bar-vertical>
    <div class="d-flex justify-content-center align-items-center">
        @if (gradingScaleExists && !isBonus) {
            <div class="d-flex justify-content-center align-items-center">
                <div class="color-box insufficient-performance"></div>
                <span class="ms-2" jhiTranslate="artemisApp.examScores.insufficientPerformance"></span>
                <div class="ms-4 color-box sufficient-performance"></div>
                <span class="ms-2" jhiTranslate="artemisApp.examScores.sufficientPerformance"></span>
            </div>
        }
        @if (!gradingScaleExists || isBonus) {
            <div class="d-flex justify-content-center align-items-center">
                <div class="color-box critical-performance"></div>
                <span class="ms-2" jhiTranslate="artemisApp.examScores.criticalPerformance"></span>
                <div class="ms-4 color-box sufficient-performance"></div>
                <span class="ms-2" jhiTranslate="artemisApp.examScores.uncriticalPerformance"></span>
            </div>
        }
        <jhi-help-icon class="ms-2" placement="right auto" text="{{ helpIconTooltip }}" />
    </div>
</div>
