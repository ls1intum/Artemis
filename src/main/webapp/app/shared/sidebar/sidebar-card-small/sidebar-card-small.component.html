<!-- Explicitly implemented query parameters for the messages module as a workaround, since routing in the messages module
 operates differently over the MetisConversations service, it will get adjusted in a followup PR -->
<div
    id="test-sidebar-card"
    class="pointer rounded-3 col-12 border-start border-5 highlight-card bg-module padding-small"
    [ngClass]="{
        'border-primary': isConversationUnread,
        'border-module': !isConversationUnread
    }"
    [routerLink]="itemSelected ? '../' : './'"
    [queryParams]="{ conversationId: sidebarItem?.id }"
    (click)="emitStoreLastSelectedItem(sidebarItem.id)"
    [routerLinkActive]="'bg-selected border-selected'"
>
    <div class="inline-block col-7">
        <jhi-sidebar-card-item [sidebarType]="sidebarType" [sidebarItem]="sidebarItem" />
    </div>
    <div class="inline-block pb-2">
        <jhi-conversation-options [conversation]="sidebarItem.conversation!" (onUpdateSidebar)="onUpdateSidebar.emit()" />
    </div>
</div>
