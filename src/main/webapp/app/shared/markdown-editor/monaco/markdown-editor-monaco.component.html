<div #wrapper class="markdown-editor-wrapper" [style.height.%]="100">
    <nav ngbNav #nav="ngbNav" class="nav-tabs" [destroyOnHide]="false" (navChange)="onNavChanged($event)">
        <!-- TODO if show edit -->
        <ng-container ngbNavItem="editor_edit">
            <a ngbNavLink class="btn-sm text-normal px-2 py-0 m-0"><span jhiTranslate="entity.action.edit"></span></a>
            <ng-template ngbNavContent>
                <jhi-monaco-editor [shrinkToFit]="false" [stickyScroll]="false" (textChanged)="onTextChanged($event)" />
                @if (enableFileUpload) {
                    <input
                        [id]="'file-upload ' + uniqueMarkdownEditorId"
                        class="markdown-editor__file-input"
                        type="file"
                        accept="image/*"
                        [multiple]="true"
                        (change)="onFileUpload($event)"
                    />
                    <label [for]="'file-upload ' + uniqueMarkdownEditorId" class="markdown-editor__file-label d-inline">
                        <div class="row mx-0 align-items-baseline">
                            <span class="col upload-subtitle">{{ 'artemisApp.markdownEditor.fileUpload' | artemisTranslate }}</span>
                            <a class="col-auto" href="http://demo.showdownjs.com">
                                <fa-icon [icon]="faQuestionCircle" [ngbTooltip]="'artemisApp.markdownEditor.guide' | artemisTranslate" />
                            </a>
                        </div>
                    </label>
                }
            </ng-template>
        </ng-container>
        <ng-container ngbNavItem="editor_preview">
            <a ngbNavLink class="btn-sm text-normal px-2 py-0 m-0"><span jhiTranslate="entity.action.preview"></span></a>
            <ng-template ngbNavContent>
                <ng-content class="overflow-auto" select="[#previewMonaco]" />
                <!-- TODO preview handling for other exercise types -->
            </ng-template>
        </ng-container>
        @if (!inPreviewMode) {
            <ng-container ngbNavItem>
                <div class="markdown-editor__commands">
                    <div class="markdown-editor__commands-default">
                        @for (action of defaultActions; track action) {
                            <button type="button" class="btn btn-sm py-0" (click)="triggerAction(action.id)" [ngbTooltip]="action.translationKey | artemisTranslate">
                                <fa-icon [icon]="action.icon!" />
                            </button>
                        }
                    </div>
                </div>
            </ng-container>
        }
    </nav>
    <div [ngbNavOutlet]="nav"></div>
</div>
