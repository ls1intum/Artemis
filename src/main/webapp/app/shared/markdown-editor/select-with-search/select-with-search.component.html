<button type="button" class="btn btn-sm py-0" [matMenuTriggerFor]="searchSubMenu" (menuOpened)="handleMenuOpen()" (menuClosed)="handleMenuClosed()">
    <fa-icon [icon]="command.buttonIcon"></fa-icon>
</button>
<mat-menu #searchSubMenu yPosition="above">
    <button *ngFor="let value of values" mat-menu-item (click)="setSelection(value)">
        {{ value.name }}
    </button>
    <form #searchInputForm (click)="$event.stopPropagation()" mat-menu-item class="p-1" (focus)="focusInputField(true)" (submit)="fillSelection()">
        <input
            #searchInput
            matInput
            class="form-control"
            (input)="updateSearchTerm(searchInput.value)"
            (keydown.arrowUp)="focusInput = false"
            (keydown.arrowDown)="focusInput = false"
            (blur)="focusInputField()"
        />
    </form>
</mat-menu>
