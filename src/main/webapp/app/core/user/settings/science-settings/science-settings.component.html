<div class="d-flex justify-content-between">
    <div>
        <h2>
            <!--UserSettingsCategory-->
            {{ 'artemisApp.userSettings.categories.' + userSettingsCategory | artemisTranslate }}
        </h2>
        <div class="d-flex userSettings-info">
            <fa-icon class="ng-fa-icon" [icon]="faInfoCircle" />
            <span class="ps-1" jhiTranslate="artemisApp.userSettings.scienceSettingsInfo"></span>
        </div>
        @if (!featureToggleActive) {
            <div class="d-flex mt-2 userSettings-info">
                <fa-icon class="ng-fa-icon" [icon]="faInfoCircle" />
                <span class="ps-1" jhiTranslate="artemisApp.userSettings.scienceSettingsFeatureDisabled"></span>
            </div>
        }
    </div>
    @if (settingsChanged) {
        <button type="button" class="btn btn-primary btn-sm" (click)="this.saveSettings()">
            <fa-icon [icon]="faSave" />
            <span class="ms-1">{{ 'artemisApp.userSettings.saveChanges' | artemisTranslate }}</span>
        </button>
    }
</div>
@if (userSettings) {
    <div class="list-group d-block">
        @for (settingGroup of userSettings.groups; track settingGroup) {
            <div *jhiHasAnyAuthority="settingGroup.restrictionLevels">
                @for (setting of settingGroup.settings; track setting) {
                    <div class="list-group-item">
                        <div class="form-check form-switch">
                            <input
                                type="checkbox"
                                class="form-check-input"
                                [checked]="setting.active"
                                id="{{ setting.settingId }}"
                                value="{{ setting.active }}"
                                (click)="toggleSetting($event)"
                            />
                            <label class="form-check-label" for="{{ setting.settingId }}">
                                <span class="fw-medium">{{ 'artemisApp.userSettings.settingNames.' + setting.key | artemisTranslate }}:</span>
                                {{ 'artemisApp.userSettings.settingDescriptions.' + setting.descriptionKey | artemisTranslate }}
                            </label>
                        </div>
                    </div>
                }
            </div>
        }
    </div>
}
