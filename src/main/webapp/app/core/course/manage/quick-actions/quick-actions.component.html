<div class="card col-5 mb-3">
    <h2 class="card-header course-quick-actions-title mb-3" jhiTranslate="entity.quickActions"></h2>
    <div class="card-body">
        <div class="d-flex flex-wrap align-items-center mb-3">
            <div class="d-flex flex-nowrap">
                <ng-container
                    *ngTemplateOutlet="
                        courseStatItem;
                        context: {
                            label: 'students',
                            count: course()?.numberOfStudents,
                            route: 'students',
                            idPrefix: 'students',
                        }
                    "
                />

                <ng-container
                    *ngTemplateOutlet="
                        courseStatItem;
                        context: {
                            label: 'tutors',
                            count: course()?.numberOfTeachingAssistants,
                            route: 'tutors',
                            idPrefix: 'tutors',
                        }
                    "
                />

                <ng-container
                    *ngTemplateOutlet="
                        courseStatItem;
                        context: {
                            label: 'editors',
                            count: course()?.numberOfEditors,
                            route: 'editors',
                            idPrefix: 'editors',
                        }
                    "
                />

                <ng-container
                    *ngTemplateOutlet="
                        courseStatItem;
                        context: {
                            label: 'instructors',
                            count: course()?.numberOfInstructors,
                            route: 'instructors',
                            idPrefix: 'instructors',
                        }
                    "
                />
                @if (course()?.isAtLeastInstructor) {
                    <jhi-user-management-dropdown class="ms-3" [courseId]="course()?.id" />
                }
            </div>
        </div>
        <div class="d-flex flex-wrap gap-2">
            @if (course()?.isAtLeastEditor) {
                <button id="add-exercise-button" class="jhi-btn btn btn-primary text-truncate mb-1 me-1" (mouseenter)="openAddExerciseModal()">
                    <fa-icon [icon]="faListAlt" />
                    <span class="hidden-sm-down" jhiTranslate="entity.action.addExercise"></span>
                </button>

                <jhi-button
                    [btnType]="ButtonType.PRIMARY"
                    [btnSize]="ButtonSize.MEDIUM"
                    [title]="'entity.action.addLecture'"
                    [icon]="faChalkboardUser"
                    (onClick)="navigateToCourseManagementSection(CourseManagementSection.LECTURE)"
                />
            }
            @if (course()?.faqEnabled) {
                <jhi-button
                    [btnType]="ButtonType.PRIMARY"
                    [btnSize]="ButtonSize.MEDIUM"
                    [title]="'entity.action.addFaq'"
                    [icon]="faQuestion"
                    (onClick)="navigateToCourseManagementSection(CourseManagementSection.FAQ)"
                />
            }
            @if (course()?.isAtLeastInstructor) {
                <jhi-button
                    [btnType]="ButtonType.PRIMARY"
                    [btnSize]="ButtonSize.MEDIUM"
                    [title]="'entity.action.addExam'"
                    [icon]="faGraduationCap"
                    (onClick)="navigateToCourseManagementSection(CourseManagementSection.EXAM)"
                />
            }
        </div>
    </div>
</div>

<ng-template #courseStatItem let-label="label" let-count="count" let-route="route" let-idPrefix="idPrefix">
    <div class="text-center me-4">
        <div class="small text-muted" jhiTranslate="artemisApp.course.{{ label }}"></div>
        @if (course()?.isAtLeastInstructor) {
            <a [routerLink]="['/course-management', course()?.id, 'groups', route]" class="fw-bold" id="number-of-{{ idPrefix }}">{{ count || 0 }}</a>
        } @else {
            <div class="fw-bold" id="number-of-{{ idPrefix }}-text">{{ count || 0 }}</div>
        }
    </div>
</ng-template>
