<div class="row justify-content-center">
    @if (course) {
        <div class="d-flex flex-column flex-md-row p-2">
            <jhi-quick-actions [course]="course" class="mb-md-0 me-md-3" style="min-height: 13rem" />

            <jhi-control-center [course]="course" [irisEnabled]="irisEnabled" style="min-height: 13rem" />
        </div>
        <div class="col-12">
            <div class="row">
                <div class="col-xxl-4">
                    <div class="row">
                        <jhi-course-detail-doughnut-chart
                            class="doughnut-container col-sm-6 my-3"
                            [course]="course"
                            [contentType]="DoughnutChartType.ASSESSMENT"
                            [currentPercentage]="courseDTO?.currentPercentageAssessments"
                            [currentAbsolute]="courseDTO?.currentAbsoluteAssessments"
                            [currentMax]="courseDTO?.currentMaxAssessments"
                        />
                        @if (course.complaintsEnabled) {
                            <jhi-course-detail-doughnut-chart
                                class="doughnut-container col-sm-6 my-3"
                                [course]="course"
                                [contentType]="DoughnutChartType.COMPLAINTS"
                                [currentPercentage]="courseDTO?.currentPercentageComplaints"
                                [currentAbsolute]="courseDTO?.currentAbsoluteComplaints"
                                [currentMax]="courseDTO?.currentMaxComplaints"
                            />
                        }
                        @if (course.requestMoreFeedbackEnabled) {
                            <jhi-course-detail-doughnut-chart
                                class="doughnut-container col-sm-6 my-3"
                                [course]="course"
                                [contentType]="DoughnutChartType.FEEDBACK"
                                [currentPercentage]="courseDTO?.currentPercentageMoreFeedbacks"
                                [currentAbsolute]="courseDTO?.currentAbsoluteMoreFeedbacks"
                                [currentMax]="courseDTO?.currentMaxMoreFeedbacks"
                            />
                        }
                        <jhi-course-detail-doughnut-chart
                            class="doughnut-container col-sm-6 my-3"
                            [course]="course"
                            [contentType]="DoughnutChartType.AVERAGE_COURSE_SCORE"
                            [currentPercentage]="courseDTO?.currentPercentageAverageScore"
                            [currentAbsolute]="courseDTO?.currentAbsoluteAverageScore"
                            [currentMax]="courseDTO?.currentMaxAverageScore"
                        />
                        @if (this.irisChatEnabled || this.isAthenaEnabled) {
                            <jhi-course-detail-doughnut-chart
                                class="doughnut-container col-sm-6 my-3"
                                [course]="course"
                                [contentType]="DoughnutChartType.CURRENT_LLM_COST"
                                [showText]="courseDTO?.currentTotalLlmCostInEur + ' â‚¬'"
                                [currentMax]="0"
                            />
                        }
                    </div>
                </div>
                <jhi-course-detail-line-chart class="col-xxl-8" [course]="course" [numberOfStudentsInCourse]="course.numberOfStudents!" [initialStats]="activeStudents" />
            </div>
        </div>
    }
    @if (courseDetailSections) {
        <jhi-detail-overview-list [sections]="courseDetailSections" class="col-12" />
    }
</div>
