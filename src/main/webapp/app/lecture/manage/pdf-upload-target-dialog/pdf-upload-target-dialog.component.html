<div class="modal-header">
    <h4 class="modal-title" jhiTranslate="artemisApp.lecture.pdfUpload.dialogTitle"></h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="cancel()"></button>
</div>
<div class="modal-body">
    <!-- File list summary -->
    <div class="upload-summary mb-3">
        <div class="d-flex align-items-center mb-2">
            <fa-icon [icon]="faFilePdf" class="text-danger me-2" />
            <span>{{ 'artemisApp.lecture.pdfUpload.filesSelected' | artemisTranslate: { count: uploadedFiles.length } }}</span>
        </div>
        <ul class="file-list mb-0">
            @for (file of uploadedFiles; track file.name) {
                <li class="text-muted small">{{ file.name }}</li>
            }
        </ul>
    </div>

    <div class="target-options">
        <div class="form-check target-option" [class.selected]="targetType() === 'new'">
            <input class="form-check-input" type="radio" name="targetType" id="targetNew" [checked]="targetType() === 'new'" (change)="onTargetTypeChange('new')" />
            <label class="form-check-label" for="targetNew">
                <fa-icon [icon]="faFolderPlus" class="me-2" />
                <span jhiTranslate="artemisApp.lecture.pdfUpload.newLecture"></span>
            </label>
        </div>

        @if (targetType() === 'new') {
            <div class="lecture-title-input mt-3 ms-4">
                <label for="lectureTitleInput" class="form-label" jhiTranslate="artemisApp.lecture.pdfUpload.lectureTitle"></label>
                <input
                    type="text"
                    class="form-control"
                    id="lectureTitleInput"
                    [ngModel]="newLectureTitle()"
                    (ngModelChange)="newLectureTitle.set($event)"
                    [placeholder]="'artemisApp.lecture.pdfUpload.lectureTitlePlaceholder' | artemisTranslate"
                    required
                />
            </div>
        }

        @if (lectures.length > 0) {
            <div class="form-check target-option mt-3" [class.selected]="targetType() === 'existing'">
                <input
                    class="form-check-input"
                    type="radio"
                    name="targetType"
                    id="targetExisting"
                    [checked]="targetType() === 'existing'"
                    (change)="onTargetTypeChange('existing')"
                />
                <label class="form-check-label" for="targetExisting">
                    <fa-icon [icon]="faFolderOpen" class="me-2" />
                    <span jhiTranslate="artemisApp.lecture.pdfUpload.existingLecture"></span>
                </label>
            </div>
        }

        @if (targetType() === 'existing' && lectures.length > 0) {
            <div class="lecture-select mt-3 ms-4">
                <label for="lectureSelect" class="form-label" jhiTranslate="artemisApp.lecture.pdfUpload.selectLecture"></label>
                <select class="form-select" id="lectureSelect" [value]="selectedLectureId() ?? ''" (change)="onLectureSelect($event)">
                    <option value="" disabled>{{ 'artemisApp.lecture.pdfUpload.selectLecturePlaceholder' | artemisTranslate }}</option>
                    @for (lecture of lectures; track lecture.id) {
                        <option [value]="lecture.id">{{ lecture.title }}</option>
                    }
                </select>
            </div>
        }
    </div>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="cancel()" jhiTranslate="entity.action.cancel"></button>
    <button type="button" class="btn btn-primary" [disabled]="!isValid()" (click)="confirm()" jhiTranslate="artemisApp.lecture.pdfUpload.confirm"></button>
</div>
