<div class="frame">
    <p>
        Scaffold multiple lectures by defining a weekday, time and series end date. Create lecture contents later. This can be useful if you want to inform course participants when
        lectures will take place throughout the semester.
    </p>
    <div class="from-section">
        <p-floatlabel variant="on">
            <p-select
                inputId="weekday"
                [options]="weekdayOptions"
                [ngModel]="selectedWeekdayIndex()"
                (ngModelChange)="onSelectedWeekdayOptionChange($event)"
                optionLabel="label"
                optionValue="weekdayIndex"
                style="width: 8rem"
            />
            <label for="weekday">Weekday</label>
        </p-floatlabel>
        <p-floatlabel variant="on">
            <p-inputMask inputId="start-time" mask="99 : 99" slotChar="-" [ngModel]="startTime() ?? ''" (ngModelChange)="onStartTimeChange($event)" [style]="{ width: '8rem' }" />
            <label for="start-time">Start Time</label>
        </p-floatlabel>
        <p-floatlabel variant="on">
            <p-inputMask inputId="end-time" mask="99 : 99" slotChar="-" [ngModel]="endTime() ?? ''" (ngModelChange)="onEndTimeChange($event)" [style]="{ width: '8rem' }" />
            <label for="end-time">End Time</label>
        </p-floatlabel>
        <p-floatlabel variant="on">
            <p-datepicker inputId="end-date" [ngModel]="endDate() ?? null" (ngModelChange)="endDate.set($event ?? undefined)" style="width: 8rem" [firstDayOfWeek]="1" />
            <label for="end-date">End Date</label>
        </p-floatlabel>
    </div>
    <h3>Generated Lectures</h3>
    <div class="container w-100 px-0">
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3">
            @for (draft of lectureDrafts(); track draft.key; let index = $index) {
                @if (draft.state !== LectureDraftState.DELETED) {
                    <div class="col">
                        <div class="draft-card">
                            <span class="card-number" [ngClass]="{ edited: draft.state === LectureDraftState.EDITED }">
                                {{ index + 1 }}
                            </span>
                            <span class="draft-title">{{ draft.dto.title }}</span>
                            <button type="button" class="card-button" (click)="editModal.open(draft)">
                                <fa-icon [icon]="faPenToSquare" />
                            </button>
                            <button type="button" class="card-button" (click)="deleteLectureDraft(draft)">
                                <fa-icon [icon]="faXmark" />
                            </button>
                        </div>
                    </div>
                }
            }
        </div>
    </div>
</div>

<jhi-lecture-series-edit-modal #editModal />
