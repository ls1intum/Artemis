<form class="container">
    @if (form) {
        <form [formGroup]="form" (ngSubmit)="submitForm()">
            <div class="form-group">
                <label class="required" for="source">{{ 'artemisApp.onlineUnit.createOnlineUnit.source' | artemisTranslate }}*</label>
                <input
                    type="text"
                    class="form-control"
                    id="source"
                    formControlName="source"
                    [placeholder]="'artemisApp.onlineUnit.createOnlineUnit.sourcePlaceHolder' | artemisTranslate"
                    (change)="onLinkChanged()"
                />
                <small id="urlHelperExplanation" class="form-text text-body-secondary" jhiTranslate="artemisApp.onlineUnit.createOnlineUnit.urlHelperPlaceholder"></small>
                @if (sourceControl?.invalid && (sourceControl?.dirty || sourceControl?.touched)) {
                    <div class="alert alert-danger">
                        @if (sourceControl?.errors?.required) {
                            <div jhiTranslate="artemisApp.onlineUnit.createOnlineUnit.sourceRequiredValidationError"></div>
                        }
                        @if (sourceControl?.errors?.invalidUrl) {
                            <div jhiTranslate="artemisApp.onlineUnit.createOnlineUnit.sourceURLValidationError"></div>
                        }
                    </div>
                }
            </div>
            <div class="form-group">
                <label class="required" for="name">{{ 'artemisApp.onlineUnit.createOnlineUnit.name' | artemisTranslate }} *</label>
                <input
                    type="text"
                    class="form-control"
                    id="name"
                    formControlName="name"
                    [placeholder]="'artemisApp.onlineUnit.createOnlineUnit.namePlaceHolder' | artemisTranslate"
                />
                @if (nameControl?.invalid && (nameControl?.dirty || nameControl?.touched)) {
                    <div class="alert alert-danger">
                        @if (nameControl?.errors?.required) {
                            <div jhiTranslate="artemisApp.onlineUnit.createOnlineUnit.nameRequiredValidationError"></div>
                        }
                        @if (nameControl?.errors?.maxlength) {
                            <div jhiTranslate="artemisApp.onlineUnit.createOnlineUnit.nameMaxLengthValidationError"></div>
                        }
                    </div>
                }
            </div>
            <div class="form-group">
                <label for="description" jhiTranslate="artemisApp.onlineUnit.createOnlineUnit.description"></label>
                <textarea
                    class="form-control"
                    id="description"
                    rows="3"
                    formControlName="description"
                    [placeholder]="'artemisApp.onlineUnit.createOnlineUnit.descriptionPlaceHolder' | artemisTranslate"
                ></textarea>
                @if (descriptionControl?.invalid && (descriptionControl?.dirty || descriptionControl?.touched)) {
                    <div class="alert alert-danger">
                        @if (descriptionControl?.errors?.maxlength) {
                            <div jhiTranslate="artemisApp.onlineUnit.createOnlineUnit.descriptionMaxLengthValidationError"></div>
                        }
                    </div>
                }
            </div>
            <div class="form-group">
                <jhi-date-time-picker [labelName]="'artemisApp.lectureUnit.releaseDate' | artemisTranslate" formControlName="releaseDate" />
            </div>
            <div class="form-group">
                <jhi-competency-selection
                    id="competencies"
                    [labelName]="'artemisApp.competency.link.title' | artemisTranslate"
                    [labelTooltip]="'artemisApp.competency.link.lectureUnit' | artemisTranslate"
                    formControlName="competencies"
                />
            </div>
            <div class="row">
                <div class="col-12">
                    <button id="submitButton" class="btn btn-primary" type="submit" [disabled]="!isSubmitPossible">
                        <span jhiTranslate="entity.action.submit"></span>
                    </button>
                    @if (hasCancelButton) {
                        <button type="button" (click)="cancelForm()" class="btn btn-default">
                            <fa-icon [icon]="faTimes" />&nbsp;<span jhiTranslate="entity.action.cancel"></span>
                        </button>
                    }
                </div>
            </div>
        </form>
    }
</form>
