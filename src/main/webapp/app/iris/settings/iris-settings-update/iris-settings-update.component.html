<div>
    <jhi-button
        id="reload"
        [btnType]="isDirty ? WARNING : PRIMARY"
        [isLoading]="isLoading"
        [icon]="faRotate"
        [title]="'artemisApp.iris.settings.button.reload'"
        (onClick)="loadIrisSettings()"
    />
    <jhi-button id="save" [btnType]="SUCCESS" [isLoading]="isSaving" [icon]="faSave" [title]="'artemisApp.iris.settings.button.save'" (onClick)="saveIrisSettings()" />
</div>
@if (irisSettings) {
    <div>
        @if (settingsType === GLOBAL) {
            <div>
                <h3 jhiTranslate="artemisApp.iris.settings.autoUpdate.title"></h3>
                <jhi-iris-global-autoupdate-settings-update [irisSettings]="irisSettings" (onChanges)="isDirty = true" />
            </div>
        }
        <h3 jhiTranslate="artemisApp.iris.settings.subSettings.chatSettings"></h3>
        <div>
            <jhi-iris-common-sub-settings-update
                [subSettings]="irisSettings?.irisChatSettings"
                [parentSubSettings]="parentIrisSettings?.irisChatSettings"
                [allIrisModels]="allIrisModels ?? []"
                [settingsType]="settingsType"
                (onChanges)="isDirty = true"
            />
        </div>
        @if (settingsType !== EXERCISE) {
            <div>
                <hr class="hr" />
                <h3 jhiTranslate="artemisApp.iris.settings.subSettings.lectureIngestionSettings.title"></h3>
                <jhi-iris-common-sub-settings-update
                    [subSettings]="irisSettings?.irisLectureIngestionSettings!"
                    [parentSubSettings]="parentIrisSettings?.irisLectureIngestionSettings"
                    [allIrisModels]="allIrisModels ?? []"
                    [settingsType]="settingsType"
                    (onChanges)="isDirty = true"
                />
            </div>
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="autoLectureIngestion" [(ngModel)]="autoLectureIngestion" />
                <label
                    class="form-check-label"
                    for="autoLectureIngestion"
                    jhiTranslate="artemisApp.iris.settings.subSettings.lectureIngestionSettings.autoIngestOnAttachmentUpload"
                ></label>
            </div>
        }
        @if (settingsType !== EXERCISE) {
            <div>
                <hr class="hr" />
                <h3 jhiTranslate="artemisApp.iris.settings.subSettings.hestiaSettings"></h3>
                <jhi-iris-common-sub-settings-update
                    [subSettings]="irisSettings?.irisHestiaSettings!"
                    [parentSubSettings]="parentIrisSettings?.irisHestiaSettings"
                    [allIrisModels]="allIrisModels ?? []"
                    [settingsType]="settingsType"
                    (onChanges)="isDirty = true"
                />
            </div>
        }
        @if (settingsType !== EXERCISE) {
            <div>
                <hr class="hr" />
                <h3 jhiTranslate="artemisApp.iris.settings.subSettings.competencyGenerationSettings"></h3>
                <jhi-iris-common-sub-settings-update
                    [subSettings]="irisSettings?.irisCompetencyGenerationSettings!"
                    [parentSubSettings]="parentIrisSettings?.irisCompetencyGenerationSettings"
                    [allIrisModels]="allIrisModels ?? []"
                    [settingsType]="settingsType"
                    (onChanges)="isDirty = true"
                />
            </div>
        }
    </div>
}
