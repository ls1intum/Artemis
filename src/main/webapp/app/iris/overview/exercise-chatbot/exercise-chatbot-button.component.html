@if (!chatOpen()) {
    <div
        #chatBubble
        class="message-bubble"
        (click)="handleButtonClick()"
        [ngClass]="{ 'content-overflow': isOverflowing(), 'bubble-visible': newIrisMessage(), 'bubble-hidden': !newIrisMessage() }"
    >
        @if (newIrisMessage()) {
            <span [innerHTML]="newIrisMessage() | htmlForMarkdown: [] : undefined : undefined : true"></span>
            @if (isOverflowing()) {
                <div class="read-more">
                    <span jhiTranslate="artemisApp.iris.chatBubble.seeFull"></span>
                    <fa-icon [icon]="faAngleDoubleDown" class="read-more-icon" />
                </div>
            }
        }
    </div>
    <div class="chatbot-button">
        <jhi-iris-logo [size]="IrisLogoSize.MEDIUM" [look]="IrisLogoLookDirection.LEFT" (click)="handleButtonClick()" />
        @if (hasNewMessages()) {
            <fa-icon [icon]="faCircle" size="xl" class="unread-indicator" />
        }
    </div>
}
