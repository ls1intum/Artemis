<!-- QUIZ EXERCISE ACTIONS START -->
<div *ngIf="exercise.type === ExerciseType.QUIZ">
    <!-- ACTIONS START -->
    <div class="btn-group me-2">
        <jhi-exercise-mode-switch
            [exerciseID]="exercise.id === undefined ? '' : exercise.id.toString()"
            [practiceModeAvailable]="isPracticeModeAvailable()"
            [practiceMode]="isInPracticeMode()"
            (onTogglePracticeMode)="togglePracticeMode(!isInPracticeMode())"
        >
        </jhi-exercise-mode-switch>
        <button
            [id]="'start-exercise-' + exercise.id"
            id="student-quiz-start-{{ exercise.id }}"
            jhi-exercise-action-button
            [buttonIcon]="faPlayCircle"
            [buttonLabel]="'artemisApp.exerciseActions.startQuiz' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canStartExercise() && !isInPracticeMode()"
            (click)="proceedExercise()"
        ></button>
        <button
            [id]="'start-practice-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faRedo"
            [buttonLabel]="'artemisApp.exerciseActions.practice' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="isPracticeModeAvailable() && canStartPractice() && isInPracticeMode()"
            (click)="startPractice()"
        ></button>
        <button
            [id]="'open-exercise-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faPlayCircle"
            [buttonLabel]="'artemisApp.exerciseActions.openQuiz' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="participationStatusWrapper() === ParticipationStatus.QUIZ_ACTIVE"
            (click)="proceedExercise()"
        ></button>
        <button
            [id]="'open-exercise-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faPlayCircle"
            [buttonLabel]="'artemisApp.exerciseActions.openQuiz' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="participationStatusWrapper() === ParticipationStatus.QUIZ_NOT_STARTED"
            (click)="proceedExercise()"
        ></button>
    </div>
    <!-- ACTIONS END -->
    <!-- INFORMATION START -->
    <!-- TODO using startExercise() in these buttons is misleading, we should rather insert the route here => Renamed to proceedQuizExercise -->
    <div class="btn-group" *ngIf="!actionsOnly">
        <!-- TODO: Incorrect ID assigning + No hideLabelMobile ? -->
        <button
            id="view-submission"
            jhi-exercise-action-button
            [buttonIcon]="faEye"
            [buttonLabel]="'artemisApp.exerciseActions.viewSubmissions' | artemisTranslate"
            [outlined]="true"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            *ngIf="participationStatusWrapper() === ParticipationStatus.QUIZ_SUBMITTED"
            (click)="proceedExercise()"
        ></button>
        <!-- TODO: No ID + No hideLabelMobile ? -->
        <button
            jhi-exercise-action-button
            [buttonIcon]="faEye"
            [buttonLabel]="'artemisApp.exerciseActions.viewResults' | artemisTranslate"
            [outlined]="true"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            *ngIf="participationStatusWrapper() === ParticipationStatus.QUIZ_FINISHED && showResult"
            (click)="proceedExercise()"
        ></button>
        <!-- TODO: No ID + No hideLabelMobile ? -->
        <button
            jhi-exercise-action-button
            [buttonIcon]="faSignal"
            [buttonLabel]="'artemisApp.exerciseActions.statistics' | artemisTranslate"
            [outlined]="true"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            *ngIf="!!exercise.isAtLeastTutor"
            (click)="showStatistics()"
        ></button>
    </div>
    <!-- INFORMATION END -->
</div>
<!-- QUIZ EXERCISE ACTIONS END -->

<!-- MODELING EXERCISE ACTIONS START -->
<div *ngIf="exercise.type === ExerciseType.MODELING">
    <!-- ACTIONS START -->
    <div class="btn-group me-2">
        <button
            [id]="'view-team-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faUsers"
            [buttonLabel]="'artemisApp.exerciseActions.viewTeam' | artemisTranslate"
            [smallButton]="smallButtons"
            [hideLabelMobile]="true"
            *ngIf="canViewTeam()"
            (click)="viewTeam()"
        ></button>
        <button
            [id]="'start-exercise-' + exercise.id"
            jhi-exercise-action-button
            id="start-modeling-exercise-action"
            [buttonIcon]="faPlayCircle"
            [buttonLabel]="'artemisApp.exerciseActions.startExercise' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canStartExercise()"
            (click)="startExercise()"
        ></button>
        <button
            [id]="'open-exercise-' + exercise.id"
            jhi-exercise-action-button
            id="open-modeling-editor-action"
            [buttonIcon]="faFolderOpen"
            [buttonLabel]="'artemisApp.exerciseActions.openModelingEditor' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canOpenExercise()"
            (click)="proceedExercise()"
        ></button>
    </div>
    <!-- ACTIONS END -->
    <!-- INFORMATION START -->
    <div class="btn-group" *ngIf="!actionsOnly">
        <!-- TODO: 2nd btn-group ? -->
        <div class="btn-group">
            <button
                [id]="'view-submissions-' + exercise.id"
                id="view-submission"
                jhi-exercise-action-button
                [buttonIcon]="faFolderOpen"
                [buttonLabel]="'artemisApp.exerciseActions.viewSubmissions' | artemisTranslate"
                [outlined]="true"
                [buttonLoading]="!!exercise.loading"
                [smallButton]="smallButtons"
                [hideLabelMobile]="false"
                *ngIf="canViewSubmissions()"
                (click)="proceedExercise()"
            ></button>
            <!-- TODO improve the distinction, in particular if there are multiple submissions and results -->
            <button
                [id]="'view-results-' + exercise.id"
                jhi-exercise-action-button
                [buttonIcon]="faFolderOpen"
                [buttonLabel]="'artemisApp.exerciseActions.viewResults' | artemisTranslate"
                [outlined]="true"
                [buttonLoading]="!!exercise.loading"
                [smallButton]="smallButtons"
                [hideLabelMobile]="false"
                *ngIf="canViewResults()"
                (click)="proceedExercise()"
            ></button>
        </div>
    </div>
    <!-- INFORMATION END -->
</div>
<!-- MODELING EXERCISE ACTIONS END -->

<!-- PROGRAMMING EXERCISE ACTIONS START -->
<div *ngIf="exercise.type === ExerciseType.PROGRAMMING">
    <!-- ACTION START -->
    <!-- TODO: btn-group not me-2? -->
    <div class="btn-group">
        <jhi-exercise-mode-switch
            [exerciseID]="exercise.id === undefined ? '' : exercise.id.toString()"
            [practiceModeAvailable]="isPracticeModeAvailable()"
            [practiceMode]="isInPracticeMode()"
            (onTogglePracticeMode)="togglePracticeMode(!isInPracticeMode())"
        >
        </jhi-exercise-mode-switch>
        <button
            [id]="'view-team-' + exercise.id"
            class="view-team"
            jhi-exercise-action-button
            [buttonIcon]="faUsers"
            [buttonLabel]="'artemisApp.exerciseActions.viewTeam' | artemisTranslate"
            [smallButton]="smallButtons"
            [hideLabelMobile]="true"
            *ngIf="canViewTeam()"
            (click)="viewTeam()"
        ></button>
        <!-- TODO: [jhiFeatureToggle]="FeatureToggle.ProgrammingExercises" ? -->
        <button
            [id]="'start-exercise-' + exercise.id"
            class="start-exercise"
            jhi-exercise-action-button
            [buttonIcon]="faPlayCircle"
            [jhiFeatureToggle]="FeatureToggle.ProgrammingExercises"
            [buttonLabel]="'artemisApp.exerciseActions.startExercise' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canStartExercise() && !isInPracticeMode()"
            (click)="startExercise()"
        ></button>
        <button
            [id]="'start-practice-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faRedo"
            [buttonLabel]="'artemisApp.exerciseActions.practice' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="isPracticeModeAvailable() && canStartPractice() && isInPracticeMode()"
            (click)="startPractice()"
        ></button>

        <!-- TODO: Exam mode reuses the whole component at the moment. We need the clone repo button but not the open
        code editor button. We should think about refactoring the clone repo button into a own component -->
        <ng-container *ngIf="shouldDisplayIDEButtons()">
            <ng-container *jhiExtensionPoint="overrideCloneOnlineEditorButton; context: { exercise: exercise }">
                <button
                    [id]="'open-exercise-' + exercise.id"
                    jhi-exercise-action-button
                    class="me-2"
                    [buttonIcon]="faFolderOpen"
                    [jhiFeatureToggle]="FeatureToggle.ProgrammingExercises"
                    [buttonLabel]="'artemisApp.exerciseActions.openCodeEditor' | artemisTranslate"
                    [buttonLoading]="!!exercise.loading"
                    [smallButton]="smallButtons"
                    [hideLabelMobile]="false"
                    *ngIf="isOnlineEditorAllowed()"
                    (click)="openOnlineEditor()"
                ></button>
                <jhi-clone-repo-button
                    [loading]="!!exercise.loading"
                    [smallButtons]="smallButtons"
                    [repositoryUrl]="repositoryUrl(exercise.studentParticipations![0])!"
                    [isTeamParticipation]="!!exercise.studentParticipations![0].team"
                    *ngIf="isOfflineIdeAllowed()"
                >
                </jhi-clone-repo-button>
            </ng-container>
        </ng-container>
        <!-- NOTE: we use the same logic 'isStartExerciseAvailable' in ngIf as above because start and resume are not always possible -->
        <button
            [id]="'resume-exercise-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faPlayCircle"
            [jhiFeatureToggle]="FeatureToggle.ProgrammingExercises"
            [buttonLabel]="'artemisApp.exerciseActions.resumeExercise' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="participationStatusWrapper() === ParticipationStatus.INACTIVE && canStartExercise()"
            (click)="resumeProgrammingExercise()"
        ></button>
        <a
            class="btn btn-primary me-1"
            [ngClass]="smallButtons ? 'btn-sm' : ''"
            style="margin-left: 8px"
            target="_blank"
            rel="noreferrer"
            href="{{ buildPlanUrl(exercise.studentParticipations![0]) }}"
            *ngIf="publishBuildPlanUrl() && buildPlanActive()"
        >
            <fa-icon class="me-1" [icon]="faExternalLinkAlt" [fixedWidth]="true"></fa-icon>
            <span class="d-none d-md-inline" jhiTranslate="artemisApp.exerciseActions.goToBuildPlan">Go to build plan</span>
        </a>
    </div>
    <!-- ACTION END -->
</div>
<!-- PROGRAMMING EXERCISE ACTIONS END -->

<!-- TEXT EXERCISE ACTIONS START -->
<div *ngIf="exercise.type === ExerciseType.TEXT">
    <!-- ACTIONS START -->
    <div class="btn-group me-2">
        <button
            [id]="'view-team-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faUsers"
            [buttonLabel]="'artemisApp.exerciseActions.viewTeam' | artemisTranslate"
            [smallButton]="smallButtons"
            [hideLabelMobile]="true"
            *ngIf="canViewTeam()"
            (click)="viewTeam()"
        ></button>
        <button
            [id]="'start-exercise-' + exercise.id"
            class="start-exercise"
            jhi-exercise-action-button
            [buttonIcon]="faPlayCircle"
            [buttonLabel]="'artemisApp.exerciseActions.startExercise' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canStartExercise()"
            (click)="startExercise()"
        ></button>
        <button
            [id]="'open-exercise-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faFolderOpen"
            [buttonLabel]="'artemisApp.exerciseActions.openTextEditor' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canOpenExercise()"
            (click)="proceedExercise()"
        ></button>
    </div>
    <!-- ACTIONS END -->
    <!-- INFORMATION START -->
    <div class="btn-group" *ngIf="!actionsOnly">
        <button
            [id]="'view-submissions-' + exercise.id"
            id="view-submission"
            jhi-exercise-action-button
            [buttonIcon]="faFolderOpen"
            [buttonLabel]="'artemisApp.exerciseActions.viewSubmissions' | artemisTranslate"
            [outlined]="true"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canViewSubmissions()"
            (click)="proceedExercise()"
        ></button>
        <!-- TODO improve the distinction, in particular if there are multiple submissions and results -->
        <button
            [id]="'view-results-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faFolderOpen"
            [buttonLabel]="'artemisApp.exerciseActions.viewResults' | artemisTranslate"
            [outlined]="true"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canViewResults()"
            (click)="proceedExercise()"
        ></button>
    </div>
    <!-- INFORMATION END -->
</div>
<!-- TEXT EXERCISE ACTIONS END -->

<!-- FILE UPLOAD EXERCISE ACTIONS START -->
<div *ngIf="exercise.type === ExerciseType.FILE_UPLOAD">
    <!-- ACTIONS START -->
    <!-- TODO: btn-group not me-2? -->
    <div class="btn-group">
        <button
            [id]="'view-team-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faUsers"
            [buttonLabel]="'artemisApp.exerciseActions.viewTeam' | artemisTranslate"
            [smallButton]="smallButtons"
            [hideLabelMobile]="true"
            *ngIf="canViewTeam()"
            (click)="viewTeam()"
        ></button>
        <button
            [id]="'start-exercise-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faPlayCircle"
            [buttonLabel]="'artemisApp.exerciseActions.startExercise' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canStartExercise()"
            (click)="startExercise()"
        ></button>
        <button
            [id]="'open-exercise-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faFolderOpen"
            [buttonLabel]="'artemisApp.exerciseActions.uploadFile' | artemisTranslate"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canOpenExercise()"
            (click)="proceedExercise()"
        ></button>
    </div>
    <!-- ACTIONS END-->
    <!-- INFORMATION START -->
    <div class="btn-group" *ngIf="!actionsOnly">
        <button
            [id]="'view-submissions-' + exercise.id"
            id="view-submission"
            jhi-exercise-action-button
            [buttonIcon]="faFolderOpen"
            [buttonLabel]="'artemisApp.exerciseActions.viewSubmissions' | artemisTranslate"
            [outlined]="true"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canViewSubmissions()"
            (click)="proceedExercise()"
        ></button>
        <button
            [id]="'view-results-' + exercise.id"
            jhi-exercise-action-button
            [buttonIcon]="faFolderOpen"
            [buttonLabel]="'artemisApp.exerciseActions.viewResults' | artemisTranslate"
            [outlined]="true"
            [buttonLoading]="!!exercise.loading"
            [smallButton]="smallButtons"
            [hideLabelMobile]="false"
            *ngIf="canViewResults()"
            (click)="proceedExercise()"
        ></button>
    </div>
    <!-- INFORMATION END -->
</div>
<!-- FILE UPLOAD EXERCISE ACTIONS END -->
