<jhi-loading-indicator-container [isLoading]="isLoading">
    <div class="row mt-2" *ngIf="isServiceSetUp">
        <ng-container>
            <div class="col d-flex flex-grow-1 justify-end px-0" style="max-width: min-content">
                <jhi-conversation-selection-sidebar> </jhi-conversation-selection-sidebar>
            </div>
            <div class="col pe-0 flex-grow-1" [ngClass]="{ 'card-border': activeConversation }">
                <ng-container *ngIf="activeConversation">
                    <jhi-conversation-header></jhi-conversation-header>
                    <jhi-conversation-messages (openThread)="setPostInThread($event)"> </jhi-conversation-messages>
                </ng-container>
            </div>
            <div *ngIf="activeConversation" class="col d-flex flex-grow-1 justify-end px-0" style="max-width: min-content">
                <jhi-conversation-thread-sidebar
                    *ngIf="showPostThread"
                    [activeConversation]="activeConversation"
                    [readOnlyMode]="!!getAsChannel(activeConversation)?.isArchived"
                    [activePost]="postInThread"
                    (closePostThread)="showPostThread = false"
                >
                </jhi-conversation-thread-sidebar>
            </div>
        </ng-container>
    </div>
</jhi-loading-indicator-container>
