<div
    *ngIf="activeConversation && course"
    class="d-flex justify-content-between align-items-center conversation-member-row"
    (mouseleave)="$event.stopPropagation(); userDropdown.close()"
>
    <span class="d-inline-block">
        <fa-icon [icon]="userIcon" [ngbTooltip]="userTooltip"></fa-icon>
        <fa-icon
            *ngIf="isChannel(activeConversation) && conversationMember?.isChannelAdmin"
            [icon]="faUserGear"
            [ngbTooltip]="'artemisApp.messages.conversation.channelAdminToolTip' | artemisTranslate"
        ></fa-icon>
        {{ userLabel }}
    </span>
    <div ngbDropdown class="d-inline-block" #userDropdown="ngbDropdown">
        <button
            class="btn btn-outline-secondary dropdown-toggle interaction"
            type="button"
            ngbDropdownToggle
            *ngIf="canBeRemovedFromConversation || canBeGrantedChannelAdminRights || canBeRevokedChannelAdminRights"
        >
            <fa-icon [icon]="faEllipsis" size="xs"></fa-icon>
        </button>
        <div ngbDropdownMenu>
            <button ngbDropdownItem *ngIf="canBeRemovedFromConversation" class="text-danger remove-member" (click)="openRemoveFromConversationDialog($event)">
                {{ 'artemisApp.actions.removeUser' | artemisTranslate }}
            </button>
            <button ngbDropdownItem *ngIf="canBeGrantedChannelAdminRights" class="text-danger grant-admin" (click)="openGrantChannelAdminRightsDialog($event)">
                {{ 'artemisApp.pages.makeChannelAdmin.confirmButton' | artemisTranslate }}
            </button>
            <button ngbDropdownItem *ngIf="canBeRevokedChannelAdminRights" class="text-danger revoke-admin" (click)="openRevokeChannelAdminRightsDialog($event)">
                {{ 'artemisApp.pages.revokeChannelAdmin.confirmButton' | artemisTranslate }}
            </button>
        </div>
    </div>
</div>
