<div class="mt-3 position-relative" *ngIf="course">
    <div class="exercise-controls d-none d-sm-block" *ngIf="course.exercises.length > 0">
        <div ngbDropdown placement="bottom-right" class="d-inline-block">
            <button class="btn btn-outline-primary" id="dropdownBasic1" ngbDropdownToggle>
                {{"arTeMiSApp.courseOverview.exerciseList.sortExercises" | translate}}
            </button>
            <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                <button class="dropdown-item" (click)="groupExercises(DUE_DATE_DESC)">
                    <fa-icon [icon]="'sort-amount-up'"></fa-icon>
                    {{"arTeMiSApp.courseOverview.exerciseList.newFirst" | translate}}
                </button>
                <button class="dropdown-item" (click)="groupExercises(DUE_DATE_ASC)">
                    <fa-icon [icon]="'sort-amount-down'"></fa-icon>
                    {{"arTeMiSApp.courseOverview.exerciseList.oldFirst" | translate}}
                </button>
            </div>
        </div>
    </div>
    <div class="exercise-row-container mb-3" *ngIf="nextRelevantExercise">
        <h3 class="text-primary">
            {{"arTeMiSApp.courseOverview.exerciseList.currentExerciseGroupHeader" | translate:{
            date: (nextRelevantExercise.dueDate | date:'dd/MM/yy HH:MM')
        } }}
        </h3>
        <jhi-course-exercise-row
            class="pb-1"
            [exercise]="nextRelevantExercise"
            [course]="course"></jhi-course-exercise-row>
        <div class="collapsed"></div>
    </div>

    <div class="exercise-row-container mb-3" *ngFor="let weekKey of weeklyIndexKeys">
        <div class="control-label" [ngClass]="weeklyExercisesGrouped[weekKey].isCurrentWeek ? 'text-primary': ''"
             (click)="weeklyExercisesGrouped[weekKey].isCollapsed = !weeklyExercisesGrouped[weekKey].isCollapsed">
            <fa-icon class="pr-3"
                     [icon]="weeklyExercisesGrouped[weekKey].isCollapsed ? 'angle-down' : 'angle-up'"></fa-icon>
            <span [innerHtml]="weeklyExercisesGrouped[weekKey].label"></span>
            <span
                class="ml-2"
                jhiTranslate="arTeMiSApp.courseOverview.exerciseList.exerciseGroupHeader"
                [translateValues]="{total: weeklyExercisesGrouped[weekKey].exercises.length}">
                Exercises: {{weeklyExercisesGrouped[weekKey].exercises.length}}
            </span>
        </div>
        <div *ngIf="!weeklyExercisesGrouped[weekKey].isCollapsed">
            <jhi-course-exercise-row
                class="pb-1"
                [exercise]="exercise"
                [course]="course"
                *ngFor="let exercise of weeklyExercisesGrouped[weekKey].exercises"></jhi-course-exercise-row>
        </div>
        <div class="collapsed"></div>
    </div>
    <div *ngIf="course.exercises.length === 0">
        <div class="row">
            <div class="col">
                {{"arTeMiSApp.courseOverview.exerciseList.noExercises" | translate}}
            </div>
        </div>
    </div>
</div>
