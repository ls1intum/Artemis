<div *ngIf="exam" (click)="openExam()" id="exam-{{ exam.id }}">
    <!-- Signature colors for the header: Blue for TestExams and Green for RedExams -->
    <div [class]="'row card-header ' + (exam.testExam ? 'bg-primary' : 'bg-success')">
        <h5 class="text-center text-white">{{ exam.title }}</h5>
    </div>
    <!-- Case 7: Undefined exam state. show Pencil without further information-->
    <div *ngIf="examState === 'UNDEFINED'" class="row card-body">
        <h4 class="icon-settings">
            <fa-icon [icon]="faPenAlt" size="3x"></fa-icon>
        </h4>
    </div>
    <!-- Body of the Component. Content changes depending on the exam state-->
    <div *ngIf="examState !== 'UNDEFINED'" class="row card-body d-flex justify-content-center">
        <div class="row">
            <h4 class="col-3 icon-settings">
                <!-- Calender to indicate an upcoming exam -->
                <fa-icon *ngIf="examState === 'UPCOMING'" [icon]="faCalendarDay" size="2x"></fa-icon>
                <!-- Play Button without circle to indicate, the exam starts shortly -->
                <fa-icon *ngIf="examState === 'IMMINENT'" [icon]="faPlay" size="2x"></fa-icon>
                <!-- Play-Button to indicate, the exam can be started -->
                <fa-icon *ngIf="examState === 'CONDUCTING'" [icon]="faCirclePlay" size="2x"></fa-icon>
                <!-- User with a clock to indicate indivial time extensions -->
                <fa-icon *ngIf="examState === 'TIMEEXTENSION'" [icon]="faUserClock" size="2x"></fa-icon>
                <!-- Magnifying Glass to indicate, the exam can be reviewed -->
                <fa-icon *ngIf="examState === 'STUDENTREVIEW'" [icon]="faMagnifyingGlass" size="2x"></fa-icon>
                <!-- Book to indicate, the exam is closed -->
                <fa-icon *ngIf="examState === 'CLOSED'" [icon]="faBook" size="2x"></fa-icon>
            </h4>
            <!-- To highlight an imminent or conducting exam, the text is highlighted in turquoise. Only for RealExams, as TestExams have a much larger working window -->
            <div
                class="col-8"
                [class]="
                    'row card-body justify-content-center ' +
                    (!exam.testExam && examState === 'IMMINENT' ? 'text-white bg-success' : '') +
                    (!exam.testExam && examState === 'CONDUCTING' ? 'text-white bg-primary' : '')
                "
            >
                <div *ngIf="examState === 'UPCOMING'">
                    <h5 class="text-center">{{ 'artemisApp.exam.overview.' + (exam.testExam ? 'testExam.' : '') + 'upcoming' | artemisTranslate }}</h5>
                    <div class="text-center">
                        {{ 'artemisApp.exam.overview.' + (exam.testExam ? 'testExam.' : '') + 'imminent' | artemisTranslate }}
                        {{ timeLeftToStartInSeconds() | artemisDurationFromSeconds }}
                    </div>
                </div>
                <div *ngIf="examState === 'IMMINENT'">
                    <h5 class="text-center">
                        {{ 'artemisApp.exam.overview.' + (exam.testExam ? 'testExam.' : '') + 'imminent' | artemisTranslate }}
                        {{ timeLeftToStartInSeconds() | artemisDurationFromSeconds }}
                    </h5>
                    <div class="text-center">{{ 'artemisApp.exam.overview.' + (exam.testExam ? 'testExam.' : '') + 'imminentExplanation' | artemisTranslate }}</div>
                </div>
                <div *ngIf="examState === 'CONDUCTING'">
                    <h5 class="text-center">{{ 'artemisApp.exam.overview.' + (exam.testExam ? 'testExam.' : '') + 'conducting' | artemisTranslate }}</h5>
                    <div class="text-center">{{ 'artemisApp.exam.overview.' + (exam.testExam ? 'testExam.' : '') + 'conductingExplanation' | artemisTranslate }}</div>
                </div>
                <div *ngIf="examState === 'TIMEEXTENSION'">
                    <h5 class="text-center">{{ 'artemisApp.exam.overview.timeExtension' | artemisTranslate }}</h5>
                    <div class="text-center">{{ 'artemisApp.exam.overview.timeExtensionExplanation' | artemisTranslate }}</div>
                </div>
                <div *ngIf="examState === 'CLOSED'">
                    <h5 class="text-center">{{ 'artemisApp.exam.overview.' + (exam.testExam ? 'testExam.' : '') + 'closed' | artemisTranslate }}</h5>
                    <div class="text-center">{{ 'artemisApp.exam.overview.' + (exam.testExam ? 'testExam.' : '') + 'closedExplanation' | artemisTranslate }}</div>
                </div>
                <div *ngIf="examState === 'STUDENTREVIEW'">
                    <h5 class="text-center">{{ 'artemisApp.exam.overview.review' | artemisTranslate }}</h5>
                    <div class="text-center">{{ 'artemisApp.exam.overview.reviewExplanation' | artemisTranslate }} {{ exam.examStudentReviewEnd | artemisDate }}</div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer -->
    <div class="card-footer row">
        <!-- For RealExams, the start date is shown. For TestExams, the working window is shown to the students -->
        <div *ngIf="!exam.testExam && exam.startDate" class="col-sm">{{ 'artemisApp.exam.overview.start' | artemisTranslate: { start: exam.startDate | artemisDate } }}</div>
        <div *ngIf="exam.testExam && exam.startDate && exam.endDate" class="col-12">
            {{
                'artemisApp.exam.overview.testExam.available'
                    | artemisTranslate
                        : {
                              startDate: exam.startDate | artemisDate,
                              endDate: exam.endDate | artemisDate
                          }
            }}
        </div>
        <div *ngIf="exam.startDate && exam.endDate" class="col-12">
            {{ 'artemisApp.exam.overview.duration' | artemisTranslate }} {{ exam.workingTime! | artemisDurationFromSeconds }}
        </div>
        <div *ngIf="exam.maxPoints" class="col-sm">{{ 'artemisApp.exam.overview.maxPoints' | artemisTranslate: { points: exam.maxPoints } }}</div>
    </div>
</div>
