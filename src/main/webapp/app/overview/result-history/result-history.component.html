<div class="result-history-wrapper">
    @if (this.isInsideEditor && this.successfulResultsLength > MAX_RESULT_HISTORY_LENGTH) {
        <span [ngClass]="{ noClickingSpan: this.leftIndex === 0 }" (click)="moveStart()"> <fa-icon [icon]="faAnglesLeft" size="lg" class="me-2" /> </span>
        <span [ngClass]="{ noClickingSpan: this.leftIndex === 0 }" (click)="moveLeft()"> <fa-icon [icon]="faAngleLeft" size="lg" class="me-2" /> </span>
    }

    <div class="result-history-element" [class.previous-history-element]="showPreviousDivider">
        <div class="result-divider"></div>
    </div>
    @for (result of displayedResults; track result; let i = $index) {
        <div class="result-history-element">
            <div class="result-score">
                <div class="result-score-icon" [ngClass]="getTextColorClass(result, evaluateTemplateStatus(exercise, result.participation, result, false, MissingResultInfo.NONE))">
                    <fa-icon [icon]="getResultIconClass(result, evaluateTemplateStatus(exercise, result.participation, result, false, MissingResultInfo.NONE))" size="xl" />
                </div>
                <jhi-result
                    class="result-score-info text-center"
                    [exercise]="exercise"
                    [result]="result"
                    [participation]="result.participation!"
                    [showUngradedResults]="true"
                    [showBadge]="true"
                    [showIcon]="false"
                />
            </div>
            <div
                class="result-divider"
                [ngStyle]="(i === 0 && movedLastRatedResult) || (i === displayedResults.length - 1 && showFutureDivider) ? { 'border-top': '1px dashed' } : {}"
            ></div>
        </div>
    }
    @if (this.isInsideEditor && this.successfulResultsLength > MAX_RESULT_HISTORY_LENGTH) {
        <span [ngClass]="this.rightIndex === this.results.length - 1 ? 'noClickingSpan' : ''" (click)="moveRight()">
            <fa-icon [icon]="faAngleRight" size="lg" class="me-2" />
        </span>
        <span [ngClass]="this.rightIndex === this.results.length - 1 ? 'noClickingSpan' : ''" (click)="moveEnd()"> <fa-icon [icon]="faAnglesRight" size="lg" class="me-2" /> </span>
    }
</div>
