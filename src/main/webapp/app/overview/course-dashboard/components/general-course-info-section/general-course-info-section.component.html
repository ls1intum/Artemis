<div>
    <div class="d-flex justify-content-between align-items-center">
        <h5 class="m-0">General</h5>
        @if (isAtLeastInstructor()) {
            @if (isEditMode()) {
                <div>
                    <button class="btn btn-secondary btn-sm col-md-auto" (click)="cancelEdit()">
                        <span>Cancel</span>
                    </button>
                    <button class="ms-1 btn btn-primary btn-sm col-md-auto" (click)="saveGeneralInformation()">
                        @if (isLoading()) {
                            <fa-icon [icon]="faSpinner" animation="spin" />
                        } @else {
                            <fa-icon [icon]="faFloppyDisk" />
                        }
                        <span>Save</span>
                    </button>
                </div>
            } @else {
                <button class="btn btn-secondary btn-sm col-md-auto" (click)="toggleEditMode()">
                    <fa-icon [icon]="faWrench" />
                    <span>Edit</span>
                </button>
            }
        } @else {
            <button class="btn btn-secondary btn-sm col-md-auto" (click)="loadGeneralCourseInformation(courseId())">
                @if (isLoading()) {
                    <fa-icon [icon]="faSpinner" animation="spin" />
                }
                <span>Refresh</span>
            </button>
        }
    </div>
    <hr class="my-2" />
    <div class="general-info-container d-block" [class.half-size]="irisEnabled()" [class.overflow-hidden]="isEditMode()">
        @if (isLoading()) {
            <h5 class="card-title placeholder-glow">
                <span class="placeholder col-6"></span>
            </h5>
            <p class="placeholder-glow">
                <span class="placeholder col-7"></span>
                <span class="placeholder col-4"></span>
                <span class="placeholder col-10"></span>
                <span class="placeholder col-8"></span>
            </p>
        } @else if (isEditMode()) {
            <jhi-markdown-editor-monaco [markdown]="generalCourseInformation()" initialEditorHeight="external" (markdownChange)="updateGeneralInformation($event)" />
        } @else if (generalCourseInformation()) {
            <span class="position-relative" [innerHTML]="generalCourseInformation() | htmlForMarkdown"></span>
        } @else {
            <em class="text-secondary">No general course information has been set!</em>
        }
    </div>
</div>
