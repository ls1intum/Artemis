<div class="row justify-content-center m-4 gap-4">
    <!-- Exercise Statistics -->
    @if (!isLoadingMetrics && hasExercises) {
        @if (points > 0 || maxPoints > 0) {
            <div class="d-sm-flex gap-3 align-items-baseline">
                <h3 jhiTranslate="artemisApp.courseStudentDashboard.overallPerformance.title"></h3>
                <div class="flex-grow-1">
                    <ngb-progressbar type="success overflow-visible" [value]="points" [max]="maxPoints" height="1.75rem">
                        <span class="fs-5 mx-2">{{ points }} / {{ maxPoints }} ({{ round((points / maxPoints) * 1000) / 10 }}%)</span>
                    </ngb-progressbar>
                </div>
            </div>
        }
        <jhi-course-exercise-performance [exercisePerformance]="exercisePerformance || []" />
        <jhi-course-exercise-lateness [exerciseLateness]="exerciseLateness || []" />
    } @else {
        <div jhiTranslate="artemisApp.courseStudentDashboard.noMetrics"></div>
    }
    <!-- Competencies -->
    <div class="competency-accordion-container row justify-content-center align-items-center w-100">
        @if (competencies.length > 0) {
            <div class="competency-accordion-header">
                <h3 jhiTranslate="artemisApp.studentAnalyticsDashboard.competencyAccordion.title"></h3>
            </div>
            <div class="competency-accordion-body" [ngClass]="this.openedAccordionIndex !== null ? 'competency-accordion-body-open' : 'competency-accordion-body-collapsed'">
                @for (competency of competencies; track competency.id; let i = $index) {
                    <jhi-competency-accordion
                        #competencyAccordionElement
                        [course]="course"
                        [competency]="competency"
                        [index]="i"
                        [openedIndex]="openedAccordionIndex"
                        (accordionToggle)="handleToggle($event)"
                    />
                }
            </div>
        } @else {
            <h3 jhiTranslate="artemisApp.studentAnalyticsDashboard.competencyAccordion.noData"></h3>
        }
    </div>
    @if (learningPathsEnabled) {
        <div class="competency-accordion-container row justify-content-center w-100" [jhiFeatureToggleHide]="FeatureToggle.LearningPaths">
            <button class="btn btn-primary mt-2" (click)="navigateToLearningPaths()" jhiTranslate="artemisApp.studentAnalyticsDashboard.button.showLearningPath"></button>
        </div>
    }
</div>
<!--<div class="col-sm col align-items-center"></div>-->
