<div>
    <h4 jhiTranslate="artemisApp.textExercise.tutorEffortStatistics.title"></h4>
    <button *jhiHasAnyAuthority="['ROLE_INSTRUCTOR', 'ROLE_ADMIN']" class="btn btn-primary btn-sm mb-2" (click)="loadTutorEfforts()">
        <fa-icon [icon]="faSync" [fixedWidth]="true"></fa-icon>&nbsp;{{ 'showStatistic.recalculateStatistics' | artemisTranslate }}
    </button>
    <div *ngIf="tutorEfforts && tutorEfforts.length > 0">
        <table class="table">
            <tr>
                <th><span jhiTranslate="artemisApp.textExercise.tutorEffortStatistics.numberOfSubmissionsAssessed"></span></th>
                <th><span jhiTranslate="artemisApp.textExercise.tutorEffortStatistics.totalTimeSpent"></span></th>
                <th><span jhiTranslate="artemisApp.textExercise.tutorEffortStatistics.averageTime"></span></th>
                <th><span jhiTranslate="artemisApp.textExercise.tutorEffortStatistics.numberOfTutorsInvolved"></span></th>
            </tr>
            <tr>
                <td>{{ numberOfSubmissions ? numberOfSubmissions : '0' }}</td>
                <td>{{ totalTimeSpent ? totalTimeSpent : '< 1 min' }}</td>
                <td>{{ averageTimeSpent ? averageTimeSpent : '0' }}</td>
                <td>{{ numberOfTutorsInvolvedInCourse ? numberOfTutorsInvolvedInCourse : '0' }}</td>
            </tr>
            <tr>
                <td colspan="3">
                    <div #containerRef class="col-9 justify-content-center">
                        <h3 jhiTranslate="artemisApp.textExercise.tutorEffortStatistics.title">Tutor Effort Statistics</h3>
                        <ngx-charts-bar-vertical
                            [view]="[containerRef.offsetWidth, 600]"
                            [scheme]="ngxColor"
                            [results]="ngxData"
                            [xAxis]="true"
                            [yAxis]="true"
                            [showXAxisLabel]="true"
                            [showYAxisLabel]="true"
                            [xAxisLabel]="xAxisLabel"
                            [yAxisLabel]="yAxisLabel"
                            [yAxisTickFormatting]="yAxisTickFormatting"
                            [yScaleMax]="yScaleMax"
                        >
                        </ngx-charts-bar-vertical>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div *ngIf="(tutorEfforts && tutorEfforts.length == 0) || !tutorEfforts">
        <span jhiTranslate="artemisApp.textExercise.tutorEffortStatistics.noData"></span>
    </div>
</div>
