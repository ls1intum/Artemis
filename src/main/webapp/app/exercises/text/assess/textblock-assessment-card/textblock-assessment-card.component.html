<!-- Show Text-->
<span
    [draggable]="true"
    (drop)="connectStructuredGradingInstructionsWithTextBlock($event)"
    (dragover)="$event.preventDefault()"
    [textContent]="textBlockRef.block!.text"
    (click)="select()"
    [class.text-with-feedback]="!!textBlockRef.feedback"
    [class.active]="selected"
    [class.positive-feedback]="textBlockRef.feedback?.credits! > 0 && !conflictMode"
    [class.negative-feedback]="textBlockRef.feedback?.credits! < 0 && !conflictMode"
    [class.neutral-feedback]="!conflictMode ? textBlockRef.feedback?.credits === 0 : !isConflictingFeedback"
    [class.conflicting-feedback]="isConflictingFeedback"
    [class.clickable]="textBlockRef.selectable"
    [class.highlighted]="textBlockRef.highlighted"
></span>
<!-- Display Feedback Editor -->
<jhi-textblock-feedback-editor
    *ngIf="textBlockRef.feedback || selected"
    [textBlock]="textBlockRef.block!"
    [feedback]="textBlockRef.feedback!"
    [class.active]="selected"
    class="guided-tour-text-assessment"
    (click)="select(false)"
    (onFocus)="select(false)"
    (close)="unselect()"
    (feedbackChange)="feedbackDidChange()"
    (onConflictsClicked)="onConflictsClicked.emit($event)"
    [readOnly]="readOnly"
    [isConflictingFeedback]="isConflictingFeedback"
    [conflictType]="conflictType"
    [conflictMode]="conflictMode"
    [isLeftConflictingFeedback]="isLeftConflictingFeedback"
    [isSelectedConflict]="conflictMode && isConflictingFeedback && !isLeftConflictingFeedback && selected"
    [highlightDifferences]="highlightDifferences"
    [criteria]="criteria"
></jhi-textblock-feedback-editor>
