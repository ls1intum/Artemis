<div class="card">
    <div class="card-header bg-primary text-white">
        <h3 class="card-title">
            <fa-icon [icon]="['far', 'file-alt']"></fa-icon>
            <span> {{ selectedFile }}</span>
            <fa-icon *ngIf="isLoading" [icon]="'circle-notch'" spin="true" class="ml-2" title="{{ 'artemisApp.editor.loadingFile' | translate }}"></fa-icon>
        </h3>
    </div>
    <div class="card-body overflow-auto">
        <p *ngIf="!selectedFile && !isLoading" id="no-file-selected" class="text-center lead text-muted pt-5" jhiTranslate="artemisApp.editor.selectFile">
            Select a file to get started!
        </p>
        <table class="w-100">
            <tbody>
                <ng-container *ngFor="let lineOfCode of studentCodePerLine; let i = index">
                    <tr id="code-line-{{ i + 1 }}">
                        <td [style.width]="'20px'">
                            <div class="btn-inline-comment" (click)="openInlineFeedback(i)">
                                <fa-icon [icon]="'plus-square'" size="lg"></fa-icon>
                            </div>
                        </td>
                        <td [style.width]="'20px'">{{ i + 1 }}</td>
                        <td class="border-right"></td>
                        <td class="pl-2">
                            <pre>{{ lineOfCode }}</pre>
                        </td>
                    </tr>
                    <tr *ngIf="fileFeedbackPerLine[i] || (lineOfCodeForInlineComment === i && toggleInlineComment)">
                        <td colspan="4">
                            <jhi-code-editor-tutor-assessment-inline-feedback
                                [fileName]="selectedFile"
                                [codeLine]="i"
                                [feedback]="fileFeedbackPerLine[i]"
                                [isStudent]="isStudent"
                                (onCancelFeedback)="onCancelFeedback()"
                                (onUpdateFeedback)="updateFeedback($event)"
                                (onDeleteFeedback)="deleteFeedback($event)"
                            >
                            </jhi-code-editor-tutor-assessment-inline-feedback>
                        </td>
                    </tr>
                </ng-container>
            </tbody>
        </table>
    </div>
</div>
