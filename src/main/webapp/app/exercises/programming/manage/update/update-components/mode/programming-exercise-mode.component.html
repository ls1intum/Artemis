<section>
    <h3
        jhiTranslate="artemisApp.programmingExercise.wizardMode.detailedSteps.difficultyStepTitle"
        id="artemisApp.programmingExercise.wizardMode.detailedSteps.difficultyStepTitle"
    ></h3>
    <p jhiTranslate="artemisApp.programmingExercise.wizardMode.detailedSteps.difficultyStepMessage"></p>
    @if (isEditFieldDisplayedRecord().difficulty) {
        <jhi-programming-exercise-difficulty [programmingExercise]="programmingExercise" />
    }
    @if (isEditFieldDisplayedRecord().participationMode) {
        <div class="form-group">
            <jhi-team-config-form-group class="form-element" [exercise]="programmingExercise" [isImport]="programmingExerciseCreationConfig.isImportFromExistingExercise" />
        </div>
    }
    <div class="form-group">
        @if (isEditFieldDisplayedRecord().allowOfflineIde) {
            <div class="form-check">
                <label [class]="!programmingExerciseCreationConfig.validIdeSelection() ? 'form-check-label text-danger' : 'form-check-label'" for="field_allowOfflineIde">
                    <input
                        class="form-check-input"
                        type="checkbox"
                        name="allowOfflineIde"
                        id="field_allowOfflineIde"
                        [(ngModel)]="programmingExercise.allowOfflineIde"
                        checked
                        (ngModelChange)="triggerValidation.emit()"
                    />
                    <span jhiTranslate="artemisApp.programmingExercise.allowOfflineIde.title"></span>
                    @if (!programmingExerciseCreationConfig.validIdeSelection()) {
                        @if (theiaEnabled) {
                            <fa-icon
                                [icon]="faQuestionCircle"
                                class="text-danger"
                                [placement]="'top'"
                                ngbTooltip="{{ 'artemisApp.programmingExercise.allowOfflineIde.alert' | artemisTranslate }}"
                            />
                        } @else {
                            <fa-icon
                                [icon]="faQuestionCircle"
                                class="text-danger"
                                [placement]="'top'"
                                ngbTooltip="{{ 'artemisApp.programmingExercise.allowOfflineIde.alertNoTheia' | artemisTranslate }}"
                            />
                        }
                    } @else {
                        <jhi-help-icon text="artemisApp.programmingExercise.allowOfflineIde.description" />
                    }
                </label>
            </div>
        }
        @if (ProjectType.XCODE !== programmingExerciseCreationConfig.selectedProjectType && isEditFieldDisplayedRecord().allowOnlineCodeEditor) {
            <div class="form-check">
                <label [class]="!programmingExerciseCreationConfig.validIdeSelection() ? 'form-check-label text-danger' : 'form-check-label'" for="field_allowOnlineEditor">
                    <input
                        class="form-check-input"
                        type="checkbox"
                        name="allowOnlineEditor"
                        id="field_allowOnlineEditor"
                        [(ngModel)]="programmingExercise.allowOnlineEditor"
                        checked
                        (ngModelChange)="triggerValidation.emit()"
                    />
                    <span jhiTranslate="artemisApp.programmingExercise.allowOnlineEditor.title"></span>
                    @if (!programmingExerciseCreationConfig.validIdeSelection()) {
                        @if (theiaEnabled) {
                            <fa-icon
                                [icon]="faQuestionCircle"
                                class="text-danger"
                                [placement]="'top'"
                                ngbTooltip="{{ 'artemisApp.programmingExercise.allowOnlineEditor.alert' | artemisTranslate }}"
                            />
                        } @else {
                            <fa-icon
                                [icon]="faQuestionCircle"
                                class="text-danger"
                                [placement]="'top'"
                                ngbTooltip="{{ 'artemisApp.programmingExercise.allowOnlineEditor.alertNoTheia' | artemisTranslate }}"
                            />
                        }
                    } @else {
                        <jhi-help-icon text="artemisApp.programmingExercise.allowOnlineEditor.description" />
                    }
                </label>
            </div>
        }
        <!-- only show this for non-exam exercises -->
        @if (!programmingExercise.exerciseGroup && theiaEnabled && isEditFieldDisplayedRecord().allowOnlineIde) {
            <div class="form-check">
                <label [class]="!programmingExerciseCreationConfig.validIdeSelection() ? 'form-check-label text-danger' : 'form-check-label'" for="field_allowOnlineIde">
                    <input
                        class="form-check-input"
                        type="checkbox"
                        name="allowOnlineIde"
                        id="field_allowOnlineIde"
                        [(ngModel)]="programmingExercise.allowOnlineIde"
                        checked
                        (ngModelChange)="triggerValidation.emit()"
                    />
                    <span jhiTranslate="artemisApp.programmingExercise.allowOnlineIde.title"></span>
                    @if (!programmingExerciseCreationConfig.validIdeSelection()) {
                        <fa-icon
                            [icon]="faQuestionCircle"
                            class="text-danger"
                            [placement]="'top'"
                            ngbTooltip="{{ 'artemisApp.programmingExercise.allowOnlineIde.alert' | artemisTranslate }}"
                        />
                    } @else {
                        <jhi-help-icon text="artemisApp.programmingExercise.allowOnlineIde.description" />
                    }
                </label>
            </div>
        }
    </div>
</section>
