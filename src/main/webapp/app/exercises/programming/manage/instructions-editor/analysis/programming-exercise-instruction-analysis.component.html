<div class="editable-instruction-container__status__container">
    @if (invalidTestCases.length + missingTestCases.length + duplicatedTestCases.length > 0) {
        <div id="instruction_analysis_test-case-issues" class="editable-instruction-container__status__item">
            <fa-icon [icon]="faExclamationTriangle" class="text-warning me-1" [ngbTooltip]="testCasesTooltipContent"></fa-icon>
            <span class="text-info" jhiTranslate="artemisApp.programmingExercise.testCaseAnalysis.issues">Test case issues.</span>
        </div>
    } @else {
        <div id="instruction_analysis_test-case-ok" class="editable-instruction-container__status__item">
            <fa-icon [icon]="faCheckCircle" class="text-success me-1"></fa-icon>
            <span class="text-info" jhiTranslate="artemisApp.programmingExercise.testCaseAnalysis.ok">Test cases ok.</span>
        </div>
    }
    <ng-template #testCasesTooltipContent>
        <div class="text-start w-100">
            @if (invalidTestCases.length) {
                <div>
                    <span [innerHTML]="'artemisApp.programmingExercise.testCaseAnalysis.invalidTestCases' | artemisTranslate: { number: invalidTestCases.length }"
                        >There are {{ invalidTestCases.length }} test cases that are part of the problem statement but can't be found in your test repository:</span
                    >
                    <ul>
                        @for (test of invalidTestCases; track test) {
                            <li>{{ test }}</li>
                        }
                    </ul>
                </div>
            }
            @if (missingTestCases.length) {
                <div class="text-start">
                    <span>{{ 'artemisApp.programmingExercise.testCaseAnalysis.missingTestCases' | artemisTranslate: { number: missingTestCases.length } }}</span>
                    <ul>
                        @for (test of missingTestCases; track test) {
                            <li>{{ test }}</li>
                        }
                    </ul>
                </div>
            }

            @if (duplicatedTestCases.length) {
                <div class="text-start">
                    <span>{{ 'artemisApp.programmingExercise.testCaseAnalysis.duplicatedTestCases' | artemisTranslate: { number: duplicatedTestCases.length } }}</span>
                    <ul>
                        @for (test of duplicatedTestCases; track test) {
                            <li>{{ test }}</li>
                        }
                    </ul>
                </div>
            }
        </div>
    </ng-template>
    <jhi-task-count-warning [numOfTasks]="numOfTasks"></jhi-task-count-warning>
</div>
