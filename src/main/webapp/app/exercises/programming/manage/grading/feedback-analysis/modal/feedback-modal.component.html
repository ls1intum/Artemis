<div class="d-flex justify-content-between align-items-center border-bottom-0 p-3">
    <h4 class="m-0" [jhiTranslate]="TRANSLATION_BASE + '.feedbackModal.header'"></h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.close()"></button>
</div>
<hr class="my-0" />
<div class="p-3 mb-0">
    <div class="d-flex justify-content-between mb-3">
        <ng-container *ngTemplateOutlet="detailTemplate; context: { label: TRANSLATION_BASE + '.task', value: feedbackDetail().taskName }" />
        <ng-container
            *ngTemplateOutlet="
                detailTemplate;
                context: {
                    label: TRANSLATION_BASE + '.occurrence',
                    value: feedbackDetail().count + ' (' + (feedbackDetail().relativeCount | number: '1.0-0') + '%)',
                }
            "
        />
        <ng-container *ngTemplateOutlet="detailTemplate; context: { label: TRANSLATION_BASE + '.testcase', value: feedbackDetail().testCaseName }" />
        <ng-container *ngTemplateOutlet="detailTemplate; context: { label: TRANSLATION_BASE + '.errorCategory', value: 'Student Error' }" />
    </div>

    <h5 class="mb-3" [jhiTranslate]="TRANSLATION_BASE + '.feedbackModal.feedbackTitle'"></h5>
    @if (longFeedbackText()) {
        <p>{{ longFeedbackText() }}</p>
    } @else {
        <p>{{ feedbackDetail().detailTexts[0] }}</p>
    }
</div>

<ng-template #detailTemplate let-label="label" let-value="value">
    <div class="px-3 pt-2 border rounded-3">
        <span class="fw-bold" [jhiTranslate]="label"></span>
        <p>{{ value }}</p>
    </div>
</ng-template>
