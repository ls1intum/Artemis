<div class="d-flex flex-row justify-content-between">
    <div class="d-flex flex-column gap-3">
        <h2 class="mb-1 fw-medium">Tasks</h2>

        <div>
            <jhi-button [shouldSubmit]="false" (click)="allTasksExpanded = true" title="artemisApp.programmingExercise.configureGrading.expandAll" [icon]="faAngleDown">
                Expand all
            </jhi-button>

            <jhi-button [shouldSubmit]="false" (click)="allTasksExpanded = false" title="artemisApp.programmingExercise.configureGrading.collapseAll" [icon]="faAngleRight">
                Collapse all
            </jhi-button>
        </div>

        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="grading-task-inactive-toggle" [value]="ignoreInactive" (click)="toggleShowInactiveTestsShown()" />
            <label class="form-check-label" for="grading-task-inactive-toggle" jhiTranslate="artemisApp.programmingExercise.configureGrading.testCases.showInactive"
                >Show inactive
            </label>
        </div>

        <div>
            <label class="form-check-label" jhiTranslate="artemisApp.programmingExercise.configureGrading.testCases.exercisePoints">Exercise Points:</label>
            {{ exercise.maxPoints }} P
        </div>
    </div>

    <div>
        <button type="button" (click)="saveTestCases()" class="btn btn-primary" [disabled]="isSaving" jhiTranslate="artemisApp.programmingExercise.configureGrading.save">
            save
        </button>

        <button type="button" (click)="resetTestCases()" class="btn btn-secondary" [disabled]="isSaving" jhiTranslate="artemisApp.programmingExercise.configureGrading.reset">
            reset
        </button>
    </div>
</div>

<form>
    <div class="task__head task__row">
        <div class="task__row__cell">
            <p class="mb-0" [innerHtml]="'artemisApp.programmingExercise.configureGrading.gradingTableHeader.testName' | artemisTranslate"></p>
        </div>

        <div class="task__row__cell">
            {{ 'artemisApp.programmingExercise.configureGrading.gradingTableHeader.weight' | artemisTranslate }}
            <fa-icon
                [icon]="faQuestionCircle"
                class="text-secondary ms-2"
                placement="bottom auto"
                [ngbTooltip]="'artemisApp.programmingExercise.configureGrading.help.weight' | artemisTranslate"
            ></fa-icon>
        </div>

        <div class="task__row__cell">
            {{ 'artemisApp.programmingExercise.configureGrading.gradingTableHeader.bonusMultiplier' | artemisTranslate }}
            <fa-icon
                [icon]="faQuestionCircle"
                class="text-secondary ms-2"
                placement="bottom auto"
                [ngbTooltip]="'artemisApp.programmingExercise.configureGrading.help.bonusMultiplier' | artemisTranslate"
            ></fa-icon>
        </div>

        <div class="task__row__cell">
            {{ 'artemisApp.programmingExercise.configureGrading.gradingTableHeader.bonusPoints' | artemisTranslate }}
            <fa-icon
                [icon]="faQuestionCircle"
                class="text-secondary ms-2"
                placement="bottom auto"
                [ngbTooltip]="'artemisApp.programmingExercise.configureGrading.help.bonusPoints' | artemisTranslate"
            ></fa-icon>
        </div>

        <div class="task__row__cell">
            {{ 'artemisApp.programmingExercise.configureGrading.gradingTableHeader.visibility' | artemisTranslate }}
            <fa-icon
                [icon]="faQuestionCircle"
                class="text-secondary ms-2"
                [ngbTooltip]="'artemisApp.programmingExercise.configureGrading.help.visibility' | artemisTranslate"
                placement="bottom auto"
            ></fa-icon>
        </div>

        <div class="task__row__cell">
            {{ 'artemisApp.programmingExercise.configureGrading.gradingTableHeader.resultingPoints' | artemisTranslate }}
            <fa-icon
                [icon]="faQuestionCircle"
                class="text-secondary ms-2"
                [ngbTooltip]="'artemisApp.programmingExercise.configureGrading.help.points' | artemisTranslate"
                placement="bottom auto"
            ></fa-icon>
        </div>

        <div class="task__row__cell">
            {{ 'artemisApp.programmingExercise.configureGrading.gradingTableHeader.testType' | artemisTranslate }}
            <fa-icon
                [icon]="faQuestionCircle"
                class="text-secondary ms-2"
                placement="bottom auto"
                [ngbTooltip]="'artemisApp.programmingExercise.configureGrading.help.type' | artemisTranslate"
            ></fa-icon>
        </div>

        <div class="task__row__cell">
            {{ 'artemisApp.programmingExercise.configureGrading.gradingTableHeader.passedPercent' | artemisTranslate }}
        </div>
    </div>

    <jhi-programming-exercise-task *ngFor="let task of tasks" [task]="task" [open]="allTasksExpanded" (updateTasksEvent)="updateTasks()"></jhi-programming-exercise-task>
</form>
