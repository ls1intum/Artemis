<div [id]="'competency-contribution-card-' + this.competencyId()" class="card pointer" [routerLink]="['/courses', this.courseId(), 'competencies', this.competencyId()]">
    <div class="card-body">
        <h5 class="card-title d-flex justify-content-between align-items-center">
            <span class="text-truncate">{{ this.title() }}</span>
            <fa-layers
                class="icon-full-size text-success"
                [ngbTooltip]="
                    'artemisApp.competency.competencyContribution.weightIconTooltips.' +
                        (this.weight() >= this.HIGH_COMPETENCY_LINK_WEIGHT ? 'high' : this.weight() >= this.MEDIUM_COMPETENCY_LINK_WEIGHT ? 'medium' : 'low') | artemisTranslate
                "
            >
                <fa-icon [icon]="this.faArrowRight" />
                @if (this.weight() >= this.MEDIUM_COMPETENCY_LINK_WEIGHT) {
                    <fa-icon [icon]="this.faArrowRight" transform="left-8" />
                }
                @if (this.weight() >= this.HIGH_COMPETENCY_LINK_WEIGHT) {
                    <fa-icon [icon]="this.faArrowRight" transform="left-16" />
                }
            </fa-layers>
        </h5>
        <!-- we need to compare to undefined since the mastery might be 0 -->
        @if (this.mastery() !== undefined) {
            <div class="d-flex justify-content-between align-items-baseline flex-wrap mt-2">
                <span [jhiTranslate]="'artemisApp.competency.mastery'"></span>
                <span class="right-aligned">{{ this.mastery() | number: '1.0-0' }}%</span>
                <ngb-progressbar class="w-100" type="success overflow-visible" [value]="this.mastery() ?? 0" [max]="100" height="0.75rem" />
            </div>
        }
    </div>
</div>
