<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Weekly Summary</title>
    <th:block th:replace="mail/notification/fragments :: headMetaDataAndIconLink"/>
    <th:block th:replace="mail/notification/fragments :: css"/>
</head>
<body>
<th:block th:replace="mail/notification/fragments :: header"/>
<!-- Message Body Start -->
<div id="message-body">
    <th:block th:replace="mail/notification/fragments :: greetingsFullName"/>
    <div class="notification-content">
        <span th:text="#{email.weekly.summary.text}">This is your Artemis summary of the last seven days.</span>
        <hr/>
        <th:block th:unless="${weeklySummaryContent.hasNewExercises}">
            <p class="bold-text" th:text="#{email.weekly.summary.no.new.exercises.information}">There are no new exercises that are still open:</p>
        </th:block>
        <th:block th:if="${weeklySummaryContent.hasNewExercises}">
            <p class="bold-text" th:text="#{email.weekly.summary.new.exercises.information}">All newly released exercises that are still open:</p>
            <ul>
                <tr th:each="exerciseSummary: ${weeklySummaryContent.exerciseSummaries}">
                    <li>
                        <p class="bold-text" th:text="${exerciseSummary.title}"/>
                        <ul>
                            <!-- TODO Replace with toReadableString when other PR is merged -->
                            <li th:text="${exerciseSummary.type}"/>
                            <th:block th:if="${exerciseSummary.difficulty}">
                                <li>
                                    <th:block th:switch="${exerciseSummary.difficulty}">
                                        <th:block th:case="'EASY'">
                                            <span th:utext="#{email.notification.title.exercise.information.difficulty(#{email.notification.aux.difficulty.easy})} "/>
                                        </th:block>
                                        <th:block th:case="'MEDIUM'">
                                            <span th:utext="#{email.notification.title.exercise.information.difficulty(#{email.notification.aux.difficulty.medium})} "/>
                                        </th:block>
                                        <th:block th:case="'HARD'">
                                            <span th:utext="#{email.notification.title.exercise.information.difficulty(#{email.notification.aux.difficulty.hard})} "/>
                                        </th:block>
                                    </th:block>
                                </li>
                            </th:block>
                            <th:block th:if="${exerciseSummary.releaseDate}">
                                <li th:text="#{email.notification.aux.information.release.date(${exerciseSummary.releaseDate})}">Release Date</li>
                            </th:block>
                            <th:block th:if="${exerciseSummary.dueDate}">
                                <li th:text="#{email.notification.aux.information.due.date(${exerciseSummary.dueDate})}">Due Date</li>
                            </th:block>
                            <li th:text="#{email.notification.title.exercise.information.max(${exerciseSummary.maxPoints})}">Max Points</li>
                            <th:block th:if="${exerciseSummary.bonusPoints}">
                                <li th:text="#{email.notification.title.exercise.information.bonus(${exerciseSummary.bonusPoints})}">Bonus Points</li>
                            </th:block>
                        </ul>
                    </li>
                </tr>
            </ul>
        </th:block>
    </div>
    <th:block th:replace="mail/notification/fragments :: farewell"/>
</div>
<!-- Message Body End -->
<th:block th:replace="mail/notification/fragments :: footer"/>
</body>
</html>
