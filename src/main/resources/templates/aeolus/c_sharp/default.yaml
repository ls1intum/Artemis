api: v0.0.1
metadata:
  name: "C#"
  id: c_sharp
  description: "Build and test C# projects"
actions:
  - name: build
    script: |-
      # Compile the code
      dotnet build "${testWorkingDirectory}"
      COMPILATION_EXIT_CODE=$?

      if [ $COMPILATION_EXIT_CODE -ne 0 ]; then
          exit 1
      fi
  - name: test
    script: |-
      # Run the tests
      dotnet test --logger=junit "${testWorkingDirectory}" || true
    results:
      - name: NUnit Test Results
        path: "${testWorkingDirectory}/TestResults/TestResults.xml"
        type: junit
