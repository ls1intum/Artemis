api: v0.0.1
metadata:
    name: swiftxcode
    id: swiftxcode
    description: Build Plan for Swift Exercises with Xcode
actions:
    - name: build_the_code
      script: |
          export LC_ALL=en_US.UTF-8
          export LANG=en_US.UTF-8

          # Build the project
          fastlane build
      runAlways: false
    - name: test_the_code
      script: |
          export LC_ALL=en_US.UTF-8
          export LANG=en_US.UTF-8

          # Test the code and write test results into junit file
          fastlane test
          exit 0
      runAlways: false
    - name: junit
      parameters:
          ignore_time: false
          test_results: '**/report.junit'
      platform: bamboo
      kind: junit
      runAlways: true
